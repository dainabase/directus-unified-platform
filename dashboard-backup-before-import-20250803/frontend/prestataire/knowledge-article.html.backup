<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article - Centre de Ressources</title>
    
    <!-- Tabler CSS -->
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/css/tabler.min.css" rel="stylesheet">
    <!-- Tabler Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons@latest/iconfont/tabler-icons.min.css">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../assets/css/custom.css" rel="stylesheet">
</head>
<body class="layout-fluid role-prestataire">
    <div class="page">
        <!-- Navbar Top -->
        <header class="navbar navbar-expand-md navbar-light d-none d-lg-flex d-print-none">
            <!-- Le contenu sera charg√© dynamiquement -->
        </header>

        <!-- Sidebar -->
        <aside class="navbar navbar-vertical navbar-expand-lg navbar-transparent">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar-menu">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <!-- Mobile Header -->
                <h1 class="navbar-brand navbar-brand-autodark d-lg-none">
                    <a href=".">
                        <img src="../assets/img/logo.svg" width="110" height="32" alt="Portal" class="navbar-brand-image">
                    </a>
                </h1>
                
                <!-- Mobile User Menu -->
                <div class="navbar-nav flex-row order-md-last d-lg-none">
                    <div class="nav-item d-none d-md-flex me-3">
                        <div class="btn-list-item">
                            <a href="#" class="btn btn-ghost-dark position-relative" data-bs-toggle="dropdown">
                                <i class="ti ti-bell icon"></i>
                                <span class="badge bg-red notification-badge"></span>
                            </a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown">
                            <span class="avatar avatar-sm user-avatar"></span>
                        </a>
                    </div>
                </div>
                
                <!-- Sidebar Content -->
                <div class="collapse navbar-collapse" id="sidebar-menu">
                    <!-- Le contenu sera charg√© dynamiquement -->
                </div>
            </div>
        </aside>

        <!-- Page Wrapper -->
        <div class="page-wrapper">
            <!-- Page header -->
            <div class="page-header d-print-none">
                <div class="container-xl">
                    <div class="row g-2 align-items-center">
                        <div class="col">
                            <!-- Breadcrumb -->
                            <ol class="breadcrumb" aria-label="breadcrumbs">
                                <li class="breadcrumb-item"><a href="dashboard.html">Accueil</a></li>
                                <li class="breadcrumb-item"><a href="knowledge.html">Base de connaissances</a></li>
                                <li class="breadcrumb-item"><a href="knowledge.html?category=technical">Documentation Technique</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Guide complet React Hooks</li>
                            </ol>
                        </div>
                        <div class="col-auto ms-auto">
                            <div class="btn-list">
                                <button class="btn btn-white" onclick="addToFavorites()">
                                    <i class="ti ti-star icon"></i>
                                    Ajouter aux favoris
                                </button>
                                <button class="btn btn-white" onclick="window.print()">
                                    <i class="ti ti-printer icon"></i>
                                    Imprimer
                                </button>
                                <button class="btn btn-white" onclick="exportPDF()">
                                    <i class="ti ti-file-text icon"></i>
                                    PDF
                                </button>
                                <button class="btn btn-primary" onclick="shareArticle()">
                                    <i class="ti ti-share icon"></i>
                                    Partager
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Page body -->
            <div class="page-body">
                <div class="container-xl">
                    <div class="row">
                        <!-- Contenu principal -->
                        <div class="col-lg-9">
                            <div class="card">
                                <div class="card-body">
                                    <!-- En-t√™te article -->
                                    <div class="article-header mb-4">
                                        <h1 class="article-title mb-3">Guide complet React Hooks</h1>
                                        <div class="article-meta d-flex flex-wrap align-items-center text-muted">
                                            <div class="me-3">
                                                <i class="ti ti-user icon"></i>
                                                <a href="#" class="text-reset">Pierre Martin</a>
                                            </div>
                                            <div class="me-3">
                                                <i class="ti ti-calendar icon"></i>
                                                15 janvier 2024
                                            </div>
                                            <div class="me-3">
                                                <i class="ti ti-clock icon"></i>
                                                15 min de lecture
                                            </div>
                                            <div class="me-3">
                                                <i class="ti ti-eye icon"></i>
                                                2.3k vues
                                            </div>
                                            <div>
                                                <div class="rating rating-sm">
                                                    <i class="ti ti-star-filled text-yellow"></i>
                                                    <i class="ti ti-star-filled text-yellow"></i>
                                                    <i class="ti ti-star-filled text-yellow"></i>
                                                    <i class="ti ti-star-filled text-yellow"></i>
                                                    <i class="ti ti-star-filled text-yellow"></i>
                                                    <span class="ms-1">(4.9)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Contenu article -->
                                    <div class="article-content">
                                        <div class="alert alert-info mb-4">
                                            <div class="d-flex">
                                                <div>
                                                    <i class="ti ti-info-circle icon alert-icon"></i>
                                                </div>
                                                <div>
                                                    <h4 class="alert-title">√Ä propos de ce guide</h4>
                                                    <div class="text-muted">Ce guide couvre l'utilisation compl√®te des React Hooks, de useState aux hooks personnalis√©s. Pr√©requis : connaissance de base de React et JavaScript ES6.</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <h2 id="introduction">Introduction</h2>
                                        <p>Les Hooks sont une addition √† React 16.8. Ils permettent d'utiliser l'√©tat et d'autres fonctionnalit√©s React sans √©crire de classe. Les Hooks sont des fonctions qui permettent de "se brancher" sur des fonctionnalit√©s React comme l'√©tat local d'un composant et le cycle de vie depuis des composants fonctionnels.</p>
                                        
                                        <h2 id="hooks-de-base">Hooks de base</h2>
                                        
                                        <h3 id="usestate">useState</h3>
                                        <p>Le Hook <code>useState</code> permet d'ajouter l'√©tat local React √† des composants fonctionnels.</p>
                                        
                                        <pre><code class="language-javascript">import React, { useState } from 'react';

function Example() {
  // D√©clare une nouvelle variable d'√©tat, qu'on va appeler ¬´ count ¬ª
  const [count, setCount] = useState(0);

  return (
    &lt;div&gt;
      &lt;p&gt;Vous avez cliqu√© {count} fois&lt;/p&gt;
      &lt;button onClick={() => setCount(count + 1)}&gt;
        Cliquez ici
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
                                        
                                        <div class="alert alert-warning my-4">
                                            <div class="d-flex">
                                                <div>
                                                    <i class="ti ti-alert-triangle icon alert-icon"></i>
                                                </div>
                                                <div>
                                                    <h4 class="alert-title">Important</h4>
                                                    <div class="text-muted">N'appelez pas les Hooks dans des boucles, des conditions ou des fonctions imbriqu√©es. Utilisez toujours les Hooks au niveau sup√©rieur de votre fonction React.</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <h3 id="useeffect">useEffect</h3>
                                        <p>Le Hook d'effet vous permet d'effectuer des effets de bord dans les composants fonctionnels.</p>
                                        
                                        <pre><code class="language-javascript">import React, { useState, useEffect } from 'react';

function Example() {
  const [count, setCount] = useState(0);

  // Similaire √† componentDidMount et componentDidUpdate :
  useEffect(() => {
    // Met √† jour le titre du document via l'API du navigateur
    document.title = `Vous avez cliqu√© ${count} fois`;
    
    // Cleanup function (optionnel)
    return () => {
      console.log('Cleanup');
    };
  }, [count]); // Ne s'ex√©cute que si count change

  return (
    &lt;div&gt;
      &lt;p&gt;Vous avez cliqu√© {count} fois&lt;/p&gt;
      &lt;button onClick={() => setCount(count + 1)}&gt;
        Cliquez ici
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
                                        
                                        <h2 id="hooks-avances">Hooks avanc√©s</h2>
                                        
                                        <h3 id="usecontext">useContext</h3>
                                        <p>Accepte un objet contexte et renvoie la valeur de contexte actuelle.</p>
                                        
                                        <h3 id="usereducer">useReducer</h3>
                                        <p>Une alternative √† <code>useState</code>. Accepte un r√©ducteur de type <code>(state, action) => newState</code>.</p>
                                        
                                        <h3 id="usememo">useMemo</h3>
                                        <p>Renvoie une valeur m√©mo√Øs√©e. Ne recalcule la valeur que lorsque l'une des d√©pendances change.</p>
                                        
                                        <div class="card bg-blue-lt my-4">
                                            <div class="card-body">
                                                <h4 class="card-title">üí° Astuce Pro</h4>
                                                <p class="mb-0">Utilisez <code>useMemo</code> pour optimiser des calculs co√ªteux, mais ne l'utilisez pas partout. La m√©morisation a aussi un co√ªt !</p>
                                            </div>
                                        </div>
                                        
                                        <h2 id="hooks-personnalises">Hooks personnalis√©s</h2>
                                        <p>Cr√©er vos propres Hooks vous permet de r√©utiliser la logique d'√©tat entre diff√©rents composants.</p>
                                        
                                        <pre><code class="language-javascript">// useCounter.js
import { useState } from 'react';

function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  
  const increment = () => setCount(count + 1);
  const decrement = () => setCount(count - 1);
  const reset = () => setCount(initialValue);
  
  return { count, increment, decrement, reset };
}

// Component.js
function Counter() {
  const { count, increment, decrement, reset } = useCounter(0);
  
  return (
    &lt;div&gt;
      &lt;p&gt;Count: {count}&lt;/p&gt;
      &lt;button onClick={increment}&gt;+&lt;/button&gt;
      &lt;button onClick={decrement}&gt;-&lt;/button&gt;
      &lt;button onClick={reset}&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
                                        
                                        <h2 id="conclusion">Conclusion</h2>
                                        <p>Les Hooks React offrent une fa√ßon plus directe d'utiliser les fonctionnalit√©s React dans les composants fonctionnels. Ils rendent le code plus lisible et plus facile √† tester.</p>
                                        
                                        <div class="card bg-green-lt my-4">
                                            <div class="card-body">
                                                <h4 class="card-title">‚úÖ Points cl√©s √† retenir</h4>
                                                <ul class="mb-0">
                                                    <li>Les Hooks permettent d'utiliser l'√©tat sans classes</li>
                                                    <li>Appelez toujours les Hooks au niveau sup√©rieur</li>
                                                    <li>Utilisez les r√®gles ESLint pour les Hooks</li>
                                                    <li>Cr√©ez des Hooks personnalis√©s pour r√©utiliser la logique</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Footer article -->
                                    <div class="article-footer mt-5 pt-5 border-top">
                                        <!-- Rating -->
                                        <div class="card mb-4">
                                            <div class="card-body text-center">
                                                <h4 class="mb-3">Cet article vous a-t-il √©t√© utile ?</h4>
                                                <div class="rating rating-lg mb-3" id="articleRating">
                                                    <i class="ti ti-star" onclick="rateArticle(1)"></i>
                                                    <i class="ti ti-star" onclick="rateArticle(2)"></i>
                                                    <i class="ti ti-star" onclick="rateArticle(3)"></i>
                                                    <i class="ti ti-star" onclick="rateArticle(4)"></i>
                                                    <i class="ti ti-star" onclick="rateArticle(5)"></i>
                                                </div>
                                                <div class="text-muted">156 personnes ont trouv√© cet article utile</div>
                                            </div>
                                        </div>
                                        
                                        <!-- Tags -->
                                        <div class="mb-4">
                                            <h4 class="mb-3">Tags</h4>
                                            <div class="badge-list">
                                                <a href="#" class="badge bg-blue-lt">React</a>
                                                <a href="#" class="badge bg-blue-lt">JavaScript</a>
                                                <a href="#" class="badge bg-blue-lt">Hooks</a>
                                                <a href="#" class="badge bg-blue-lt">Frontend</a>
                                                <a href="#" class="badge bg-blue-lt">Tutorial</a>
                                            </div>
                                        </div>
                                        
                                        <!-- Articles similaires -->
                                        <div class="mb-4">
                                            <h4 class="mb-3">Articles similaires</h4>
                                            <div class="list-group">
                                                <a href="knowledge-article.html?id=10" class="list-group-item">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <div class="font-weight-medium">React Context API : Guide complet</div>
                                                            <div class="text-muted small">G√©rez l'√©tat global de votre application React</div>
                                                        </div>
                                                        <div class="col-auto">
                                                            <i class="ti ti-chevron-right icon"></i>
                                                        </div>
                                                    </div>
                                                </a>
                                                <a href="knowledge-article.html?id=11" class="list-group-item">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <div class="font-weight-medium">Performance React : Optimisation avanc√©e</div>
                                                            <div class="text-muted small">Techniques pour am√©liorer les performances</div>
                                                        </div>
                                                        <div class="col-auto">
                                                            <i class="ti ti-chevron-right icon"></i>
                                                        </div>
                                                    </div>
                                                </a>
                                                <a href="knowledge-article.html?id=12" class="list-group-item">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <div class="font-weight-medium">Testing React avec Jest et RTL</div>
                                                            <div class="text-muted small">Tests unitaires et d'int√©gration</div>
                                                        </div>
                                                        <div class="col-auto">
                                                            <i class="ti ti-chevron-right icon"></i>
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Section commentaires / Q&A -->
                                    <div class="card">
                                        <div class="card-header">
                                            <h3 class="card-title">Questions & R√©ponses</h3>
                                            <div class="card-actions">
                                                <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modal-ask-question">
                                                    <i class="ti ti-plus icon"></i>
                                                    Poser une question
                                                </button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <!-- Question 1 -->
                                            <div class="qa-item mb-4">
                                                <div class="d-flex">
                                                    <div class="vote-controls text-center me-3">
                                                        <button class="btn btn-sm btn-ghost-dark" onclick="voteUp(1)">
                                                            <i class="ti ti-chevron-up icon"></i>
                                                        </button>
                                                        <div class="font-weight-medium">5</div>
                                                        <button class="btn btn-sm btn-ghost-dark" onclick="voteDown(1)">
                                                            <i class="ti ti-chevron-down icon"></i>
                                                        </button>
                                                    </div>
                                                    <div class="flex-grow-1">
                                                        <div class="mb-2">
                                                            <span class="badge bg-green me-2">
                                                                <i class="ti ti-check icon"></i>
                                                                Solution
                                                            </span>
                                                            <strong>Comment g√©rer plusieurs √©tats avec useState ?</strong>
                                                        </div>
                                                        <div class="text-muted mb-2">
                                                            Post√© par <a href="#">Sophie L.</a> il y a 2 jours
                                                        </div>
                                                        <div class="mb-3">
                                                            <p>Je me demande quelle est la meilleure pratique pour g√©rer plusieurs √©tats dans un composant. Vaut-il mieux utiliser plusieurs useState ou un seul avec un objet ?</p>
                                                        </div>
                                                        <div class="ps-4 border-start border-3">
                                                            <div class="mb-2">
                                                                <strong>R√©ponse de Pierre Martin (Auteur)</strong>
                                                            </div>
                                                            <p>Excellente question ! La r√®gle g√©n√©rale est d'utiliser plusieurs <code>useState</code> pour des valeurs qui changent ind√©pendamment. Si les √©tats sont li√©s, vous pouvez utiliser un objet ou passer √† <code>useReducer</code>.</p>
                                                            <pre><code class="language-javascript">// ‚úÖ Bon : √©tats ind√©pendants
const [name, setName] = useState('');
const [age, setAge] = useState(0);

// ‚úÖ Bon : √©tats li√©s
const [user, setUser] = useState({ name: '', age: 0 });</code></pre>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Question 2 -->
                                            <div class="qa-item">
                                                <div class="d-flex">
                                                    <div class="vote-controls text-center me-3">
                                                        <button class="btn btn-sm btn-ghost-dark" onclick="voteUp(2)">
                                                            <i class="ti ti-chevron-up icon"></i>
                                                        </button>
                                                        <div class="font-weight-medium">3</div>
                                                        <button class="btn btn-sm btn-ghost-dark" onclick="voteDown(2)">
                                                            <i class="ti ti-chevron-down icon"></i>
                                                        </button>
                                                    </div>
                                                    <div class="flex-grow-1">
                                                        <div class="mb-2">
                                                            <strong>Diff√©rence entre useEffect et useLayoutEffect ?</strong>
                                                        </div>
                                                        <div class="text-muted mb-2">
                                                            Post√© par <a href="#">Marc D.</a> il y a 1 semaine
                                                        </div>
                                                        <div class="mb-3">
                                                            <p>Quand faut-il utiliser useLayoutEffect au lieu de useEffect ?</p>
                                                        </div>
                                                        <button class="btn btn-sm btn-white">
                                                            <i class="ti ti-message icon"></i>
                                                            R√©pondre
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sidebar droite - Table des mati√®res -->
                        <div class="col-lg-3">
                            <div class="card toc-sidebar">
                                <div class="card-header">
                                    <h3 class="card-title">Table des mati√®res</h3>
                                </div>
                                <div class="card-body">
                                    <nav class="toc">
                                        <ul class="list-unstyled">
                                            <li><a href="#introduction" class="text-reset">Introduction</a></li>
                                            <li>
                                                <a href="#hooks-de-base" class="text-reset">Hooks de base</a>
                                                <ul class="list-unstyled ps-3 mt-1">
                                                    <li><a href="#usestate" class="text-muted small">useState</a></li>
                                                    <li><a href="#useeffect" class="text-muted small">useEffect</a></li>
                                                </ul>
                                            </li>
                                            <li>
                                                <a href="#hooks-avances" class="text-reset">Hooks avanc√©s</a>
                                                <ul class="list-unstyled ps-3 mt-1">
                                                    <li><a href="#usecontext" class="text-muted small">useContext</a></li>
                                                    <li><a href="#usereducer" class="text-muted small">useReducer</a></li>
                                                    <li><a href="#usememo" class="text-muted small">useMemo</a></li>
                                                </ul>
                                            </li>
                                            <li><a href="#hooks-personnalises" class="text-reset">Hooks personnalis√©s</a></li>
                                            <li><a href="#conclusion" class="text-reset">Conclusion</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            
                            <!-- Infos auteur -->
                            <div class="card mt-3">
                                <div class="card-body text-center">
                                    <span class="avatar avatar-xl mb-3" style="background-image: url(https://ui-avatars.com/api/?name=Pierre+Martin)"></span>
                                    <h3 class="card-title mb-1">Pierre Martin</h3>
                                    <div class="text-muted">Senior Frontend Developer</div>
                                    <div class="mt-3">
                                        <span class="badge bg-blue-lt">15 articles</span>
                                        <span class="badge bg-green-lt">Expert React</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal poser une question -->
    <div class="modal modal-blur fade" id="modal-ask-question" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Poser une question</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Votre question</label>
                        <input type="text" class="form-control" placeholder="Soyez pr√©cis et concis">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">D√©tails (optionnel)</label>
                        <textarea class="form-control" rows="4" placeholder="Ajoutez du contexte ou des exemples de code..."></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Tags</label>
                        <select class="form-select" multiple>
                            <option value="react" selected>React</option>
                            <option value="hooks">Hooks</option>
                            <option value="javascript">JavaScript</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-link link-secondary" data-bs-dismiss="modal">
                        Annuler
                    </button>
                    <button type="button" class="btn btn-primary">
                        <i class="ti ti-send icon"></i>
                        Publier la question
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Zone pour notifications toast -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toast-container"></div>

    <!-- Mobile Sidebar Overlay -->
    <div class="sidebar-overlay d-lg-none" onclick="PortalApp.toggleMobileSidebar()"></div>

    <!-- Tabler JS -->
    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/js/tabler.min.js"></script>
    <!-- Prism.js -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <!-- Custom JS -->
    <script src="../assets/js/app.js"></script>
    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/notion-connector.js"></script>
    <script src="../assets/js/auth-notion.js"></script>
    <script src="../assets/js/permissions-notion.js"></script>
    <script src="../assets/js/collaboration.js"></script>
    
    <script>
        // V√©rification de l'authentification au chargement
        document.addEventListener('DOMContentLoaded', function() {
            // V√©rifier l'authentification
            if (!PortalApp.checkAuth()) {
                console.warn('‚ùå Utilisateur non authentifi√©');
                window.location.href = '../login.html';
                return;
            }
            
            // V√©rifier que l'utilisateur a le bon r√¥le
            if (PortalApp.currentRole !== 'prestataire') {
                console.warn('‚ùå Acc√®s non autoris√© pour ce r√¥le');
                PortalApp.redirectToDashboard();
                return;
            }
            
            // Initialiser le layout
            if (typeof PortalApp.initLayout === 'function') {
                PortalApp.initLayout();
            }
            
            // Marquer le menu comme actif
            PortalApp.setActiveMenuItem('knowledge');
            
            // Highlight code
            Prism.highlightAll();
            
            // Smooth scroll pour table des mati√®res
            document.querySelectorAll('.toc a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
            
            // Observer pour highlight actif dans TOC
            const observerOptions = {
                rootMargin: '-20% 0px -70% 0px'
            };
            
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    const tocLink = document.querySelector(`.toc a[href="#${id}"]`);
                    
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.toc a').forEach(link => {
                            link.classList.remove('text-primary', 'font-weight-medium');
                        });
                        if (tocLink) {
                            tocLink.classList.add('text-primary', 'font-weight-medium');
                        }
                    }
                });
            }, observerOptions);
            
            // Observer tous les headings
            document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
                observer.observe(heading);
            });
        });
        
        // Noter l'article
        function rateArticle(rating) {
            const stars = document.querySelectorAll('#articleRating i');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('ti-star');
                    star.classList.add('ti-star-filled', 'text-yellow');
                } else {
                    star.classList.remove('ti-star-filled', 'text-yellow');
                    star.classList.add('ti-star');
                }
            });
            
            PortalApp.showToast(`Merci pour votre √©valuation (${rating}/5)`, 'success');
        }
        
        // Voter pour une question
        function voteUp(questionId) {
            console.log('Vote up:', questionId);
            PortalApp.showToast('Vote enregistr√©', 'success');
        }
        
        function voteDown(questionId) {
            console.log('Vote down:', questionId);
            PortalApp.showToast('Vote enregistr√©', 'success');
        }
        
        // Actions article
        function addToFavorites() {
            PortalApp.showToast('Article ajout√© aux favoris', 'success');
        }
        
        function exportPDF() {
            PortalApp.showToast('Export PDF en cours...', 'info');
        }
        
        function shareArticle() {
            if (navigator.share) {
                navigator.share({
                    title: 'Guide complet React Hooks',
                    text: 'D√©couvrez ce guide complet sur les React Hooks',
                    url: window.location.href
                });
            } else {
                // Fallback - copier le lien
                navigator.clipboard.writeText(window.location.href);
                PortalApp.showToast('Lien copi√© dans le presse-papier', 'success');
            }
        }
    </script>
</body>
</html>
