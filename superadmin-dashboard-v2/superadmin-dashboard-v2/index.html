<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperAdmin Dashboard - Unified Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/lucide-static@0.294.0/font/lucide.css" rel="stylesheet">
    <style>
        /* Glassmorphism styles */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .glass-light {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .glass-strong {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
        }
        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
        .animate-slideIn {
            animation: slideIn 0.3s ease-out;
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext } = React;

        // Tailwind config
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        glass: {
                            white: 'rgba(255, 255, 255, 0.1)',
                            whiteLight: 'rgba(255, 255, 255, 0.05)',
                        }
                    }
                }
            }
        }

        // Mock Data Store
        const mockData = {
            user: { id: 1, name: 'Jean-Marie Delaunay', email: 'admin@hypervisual.ch', role: 'Super Admin' },
            companies: [
                { id: 'HYPERVISUAL', name: 'HYPERVISUAL', color: 'blue' },
                { id: 'DAINAMICS', name: 'DAINAMICS', color: 'purple' },
                { id: 'LEXAIA', name: 'LEXAIA', color: 'green' },
                { id: 'ENKI_REALTY', name: 'ENKI REALTY', color: 'orange' },
                { id: 'TAKEOUT', name: 'TAKEOUT', color: 'red' }
            ],
            metrics: {
                revenue: { value: 1250000, trend: 12.5, label: 'ARR' },
                mrr: { value: 104167, trend: 8.3, label: 'MRR' },
                clients: { value: 156, trend: 5.2, label: 'Clients Actifs' },
                projects: { value: 42, trend: -2.1, label: 'Projets en Cours' },
                cashflow: { value: 485000, trend: 15.7, label: 'Trésorerie' },
                runway: { value: 14, trend: 0, label: 'Mois de Runway' }
            },
            projects: [
                { id: 1, name: 'Refonte Site E-commerce', client: 'LEXAIA', status: 'in_progress', progress: 75, budget: 45000, team: ['JD', 'ML', 'PC'], deadline: '2025-02-15' },
                { id: 2, name: 'App Mobile Banking', client: 'DAINAMICS', status: 'in_progress', progress: 40, budget: 120000, team: ['AB', 'CD', 'EF'], deadline: '2025-03-30' },
                { id: 3, name: 'Dashboard Analytics', client: 'HYPERVISUAL', status: 'planning', progress: 10, budget: 35000, team: ['GH', 'IJ'], deadline: '2025-04-15' },
                { id: 4, name: 'Migration Cloud', client: 'TAKEOUT', status: 'completed', progress: 100, budget: 28000, team: ['KL', 'MN'], deadline: '2024-12-01' }
            ],
            activities: [
                { id: 1, type: 'invoice', title: 'Nouvelle facture créée', detail: 'FAC-2025-001 pour LEXAIA', time: 'Il y a 5 min', icon: 'file-text' },
                { id: 2, type: 'project', title: 'Projet mis à jour', detail: 'Refonte Site E-commerce - 75% complété', time: 'Il y a 15 min', icon: 'folder' },
                { id: 3, type: 'user', title: 'Nouveau collaborateur', detail: 'Marie Lambert a rejoint l\'équipe', time: 'Il y a 1h', icon: 'user-plus' },
                { id: 4, type: 'payment', title: 'Paiement reçu', detail: '15,000 CHF de DAINAMICS', time: 'Il y a 2h', icon: 'credit-card' }
            ]
        };

        // Auth Context
        const AuthContext = createContext();
        const useAuth = () => useContext(AuthContext);

        // Utility Components
        const Icon = ({ name, size = 20, className = "" }) => (
            <i className={`lucide-${name} ${className}`} style={{ fontSize: size }}></i>
        );

        const Card = ({ children, className = "", glass = true }) => (
            <div className={`rounded-xl p-6 ${glass ? 'glass' : 'bg-white'} ${className}`}>
                {children}
            </div>
        );

        const Button = ({ children, variant = "primary", size = "md", className = "", ...props }) => {
            const variants = {
                primary: "bg-blue-600 hover:bg-blue-700 text-white",
                secondary: "bg-gray-200 hover:bg-gray-300 text-gray-800",
                ghost: "hover:bg-gray-100 text-gray-600"
            };
            const sizes = {
                sm: "px-3 py-1.5 text-sm",
                md: "px-4 py-2",
                lg: "px-6 py-3 text-lg"
            };
            return (
                <button
                    className={`rounded-lg font-medium transition-all ${variants[variant]} ${sizes[size]} ${className}`}
                    {...props}
                >
                    {children}
                </button>
            );
        };

        // Sidebar Component
        const Sidebar = ({ collapsed, setCollapsed, currentModule, setCurrentModule }) => {
            const modules = [
                { id: 'dashboard', name: 'Dashboard', icon: 'layout-dashboard' },
                { id: 'projects', name: 'Projets', icon: 'folder' },
                { id: 'finance', name: 'Finance', icon: 'wallet' },
                { id: 'crm', name: 'CRM', icon: 'users' },
                { id: 'accounting', name: 'Comptabilité', icon: 'calculator' },
                { id: 'hr', name: 'RH', icon: 'users-round' },
                { id: 'legal', name: 'Juridique', icon: 'shield' },
                { id: 'support', name: 'Support', icon: 'headphones' },
                { id: 'marketing', name: 'Marketing', icon: 'megaphone' },
                { id: 'settings', name: 'Paramètres', icon: 'settings' }
            ];

            return (
                <aside className={`h-screen glass-light border-r border-gray-200 transition-all duration-300 ${collapsed ? 'w-16' : 'w-64'}`}>
                    <div className="p-4">
                        <div className="flex items-center justify-between mb-8">
                            {!collapsed && <h1 className="text-xl font-bold">SuperAdmin</h1>}
                            <button
                                onClick={() => setCollapsed(!collapsed)}
                                className="p-2 rounded-lg hover:bg-white/10 transition-colors"
                            >
                                <Icon name={collapsed ? "menu" : "x"} />
                            </button>
                        </div>

                        <nav className="space-y-2">
                            {modules.map(module => (
                                <button
                                    key={module.id}
                                    onClick={() => setCurrentModule(module.id)}
                                    className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all ${
                                        currentModule === module.id 
                                            ? 'bg-blue-600 text-white' 
                                            : 'hover:bg-white/10 text-gray-700'
                                    }`}
                                >
                                    <Icon name={module.icon} />
                                    {!collapsed && <span>{module.name}</span>}
                                </button>
                            ))}
                        </nav>
                    </div>
                </aside>
            );
        };

        // TopBar Component
        const TopBar = ({ selectedCompany, setSelectedCompany }) => {
            const [showUserMenu, setShowUserMenu] = useState(false);
            const { user } = useAuth();

            return (
                <header className="glass border-b border-gray-200 px-6 py-4">
                    <div className="flex items-center justify-between">
                        <div className="flex items-center gap-4">
                            <select
                                value={selectedCompany}
                                onChange={(e) => setSelectedCompany(e.target.value)}
                                className="px-4 py-2 rounded-lg glass border border-gray-200 bg-transparent"
                            >
                                <option value="all">Toutes les entreprises</option>
                                {mockData.companies.map(company => (
                                    <option key={company.id} value={company.id}>{company.name}</option>
                                ))}
                            </select>
                        </div>

                        <div className="flex items-center gap-4">
                            <button className="p-2 rounded-lg hover:bg-white/10 transition-colors relative">
                                <Icon name="bell" />
                                <span className="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                            </button>
                            
                            <div className="relative">
                                <button
                                    onClick={() => setShowUserMenu(!showUserMenu)}
                                    className="flex items-center gap-3 p-2 rounded-lg hover:bg-white/10 transition-colors"
                                >
                                    <div className="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white">
                                        {user.name.split(' ').map(n => n[0]).join('')}
                                    </div>
                                    <div className="text-left hidden md:block">
                                        <p className="text-sm font-medium">{user.name}</p>
                                        <p className="text-xs text-gray-600">{user.role}</p>
                                    </div>
                                    <Icon name="chevron-down" size={16} />
                                </button>

                                {showUserMenu && (
                                    <div className="absolute right-0 mt-2 w-48 rounded-lg glass shadow-lg p-2 z-50">
                                        <button className="w-full text-left px-3 py-2 rounded hover:bg-white/10 flex items-center gap-2">
                                            <Icon name="user" size={16} />
                                            <span>Mon Profil</span>
                                        </button>
                                        <button className="w-full text-left px-3 py-2 rounded hover:bg-white/10 flex items-center gap-2">
                                            <Icon name="settings" size={16} />
                                            <span>Paramètres</span>
                                        </button>
                                        <hr className="my-2 border-gray-200" />
                                        <button className="w-full text-left px-3 py-2 rounded hover:bg-white/10 flex items-center gap-2 text-red-600">
                                            <Icon name="log-out" size={16} />
                                            <span>Déconnexion</span>
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </header>
            );
        };

        // MetricCard Component
        const MetricCard = ({ metric, value, trend, label, icon }) => {
            const isPositive = trend >= 0;
            
            return (
                <Card className="hover:scale-105 transition-transform cursor-pointer">
                    <div className="flex items-start justify-between mb-4">
                        <div className="p-2 rounded-lg bg-blue-100">
                            <Icon name={icon} className="text-blue-600" />
                        </div>
                        <div className={`flex items-center gap-1 text-sm ${isPositive ? 'text-green-600' : 'text-red-600'}`}>
                            <Icon name={isPositive ? "trending-up" : "trending-down"} size={16} />
                            <span>{Math.abs(trend)}%</span>
                        </div>
                    </div>
                    <div>
                        <p className="text-2xl font-bold">{value}</p>
                        <p className="text-gray-600 text-sm">{label}</p>
                    </div>
                </Card>
            );
        };

        // Dashboard Module
        const DashboardModule = () => {
            const formatCurrency = (value) => {
                return new Intl.NumberFormat('fr-CH', {
                    style: 'currency',
                    currency: 'CHF',
                    minimumFractionDigits: 0
                }).format(value);
            };

            return (
                <div className="space-y-6 animate-fadeIn">
                    <div>
                        <h2 className="text-2xl font-bold mb-2">Tableau de Bord</h2>
                        <p className="text-gray-600">Vue d'ensemble de votre activité</p>
                    </div>

                    {/* Metrics Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4">
                        <MetricCard
                            icon="trending-up"
                            value={formatCurrency(mockData.metrics.revenue.value)}
                            trend={mockData.metrics.revenue.trend}
                            label={mockData.metrics.revenue.label}
                        />
                        <MetricCard
                            icon="dollar-sign"
                            value={formatCurrency(mockData.metrics.mrr.value)}
                            trend={mockData.metrics.mrr.trend}
                            label={mockData.metrics.mrr.label}
                        />
                        <MetricCard
                            icon="users"
                            value={mockData.metrics.clients.value}
                            trend={mockData.metrics.clients.trend}
                            label={mockData.metrics.clients.label}
                        />
                        <MetricCard
                            icon="folder"
                            value={mockData.metrics.projects.value}
                            trend={mockData.metrics.projects.trend}
                            label={mockData.metrics.projects.label}
                        />
                        <MetricCard
                            icon="wallet"
                            value={formatCurrency(mockData.metrics.cashflow.value)}
                            trend={mockData.metrics.cashflow.trend}
                            label={mockData.metrics.cashflow.label}
                        />
                        <MetricCard
                            icon="clock"
                            value={`${mockData.metrics.runway.value} mois`}
                            trend={mockData.metrics.runway.trend}
                            label={mockData.metrics.runway.label}
                        />
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* Projects Overview */}
                        <div className="lg:col-span-2">
                            <Card>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-semibold">Projets en Cours</h3>
                                    <Button variant="ghost" size="sm">
                                        Voir tous <Icon name="arrow-right" size={16} className="ml-1" />
                                    </Button>
                                </div>
                                
                                <div className="space-y-4">
                                    {mockData.projects.filter(p => p.status !== 'completed').map(project => (
                                        <div key={project.id} className="p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer">
                                            <div className="flex items-center justify-between mb-2">
                                                <h4 className="font-medium">{project.name}</h4>
                                                <span className="text-sm text-gray-600">{project.client}</span>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <div className="flex -space-x-2">
                                                    {project.team.map((member, i) => (
                                                        <div key={i} className="w-8 h-8 rounded-full bg-blue-600 border-2 border-white flex items-center justify-center text-white text-xs">
                                                            {member}
                                                        </div>
                                                    ))}
                                                </div>
                                                <div className="flex items-center gap-4">
                                                    <div className="text-right">
                                                        <p className="text-xs text-gray-600">Progression</p>
                                                        <p className="text-sm font-medium">{project.progress}%</p>
                                                    </div>
                                                    <div className="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
                                                        <div
                                                            className="h-full bg-blue-600 rounded-full transition-all"
                                                            style={{ width: `${project.progress}%` }}
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </Card>
                        </div>

                        {/* Activity Feed */}
                        <div>
                            <Card>
                                <h3 className="text-lg font-semibold mb-4">Activité Récente</h3>
                                <div className="space-y-4">
                                    {mockData.activities.map(activity => (
                                        <div key={activity.id} className="flex gap-3 animate-slideIn">
                                            <div className={`p-2 rounded-lg ${
                                                activity.type === 'invoice' ? 'bg-blue-100 text-blue-600' :
                                                activity.type === 'project' ? 'bg-green-100 text-green-600' :
                                                activity.type === 'user' ? 'bg-purple-100 text-purple-600' :
                                                'bg-orange-100 text-orange-600'
                                            }`}>
                                                <Icon name={activity.icon} size={16} />
                                            </div>
                                            <div className="flex-1">
                                                <p className="font-medium text-sm">{activity.title}</p>
                                                <p className="text-xs text-gray-600">{activity.detail}</p>
                                                <p className="text-xs text-gray-500 mt-1">{activity.time}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </Card>
                        </div>
                    </div>
                </div>
            );
        };

        // Projects Module
        const ProjectsModule = () => {
            const [view, setView] = useState('grid'); // grid, list, kanban
            
            const ProjectCard = ({ project }) => (
                <Card className="hover:scale-105 transition-transform cursor-pointer">
                    <div className="flex items-start justify-between mb-4">
                        <div>
                            <h4 className="font-semibold">{project.name}</h4>
                            <p className="text-sm text-gray-600">{project.client}</p>
                        </div>
                        <span className={`px-2 py-1 rounded text-xs font-medium ${
                            project.status === 'completed' ? 'bg-green-100 text-green-700' :
                            project.status === 'in_progress' ? 'bg-blue-100 text-blue-700' :
                            'bg-yellow-100 text-yellow-700'
                        }`}>
                            {project.status === 'completed' ? 'Terminé' :
                             project.status === 'in_progress' ? 'En cours' : 'Planification'}
                        </span>
                    </div>

                    <div className="space-y-3">
                        <div>
                            <div className="flex justify-between text-sm mb-1">
                                <span className="text-gray-600">Progression</span>
                                <span className="font-medium">{project.progress}%</span>
                            </div>
                            <div className="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div
                                    className="h-full bg-blue-600 rounded-full transition-all"
                                    style={{ width: `${project.progress}%` }}
                                />
                            </div>
                        </div>

                        <div className="flex items-center justify-between">
                            <div className="flex -space-x-2">
                                {project.team.slice(0, 3).map((member, i) => (
                                    <div key={i} className="w-6 h-6 rounded-full bg-gray-300 border border-white flex items-center justify-center text-xs">
                                        {member}
                                    </div>
                                ))}
                                {project.team.length > 3 && (
                                    <div className="w-6 h-6 rounded-full bg-gray-200 border border-white flex items-center justify-center text-xs">
                                        +{project.team.length - 3}
                                    </div>
                                )}
                            </div>
                            <p className="text-sm text-gray-600">
                                <Icon name="calendar" size={14} className="inline mr-1" />
                                {new Date(project.deadline).toLocaleDateString('fr-FR')}
                            </p>
                        </div>
                    </div>
                </Card>
            );

            return (
                <div className="space-y-6 animate-fadeIn">
                    <div className="flex items-center justify-between">
                        <div>
                            <h2 className="text-2xl font-bold mb-2">Projets</h2>
                            <p className="text-gray-600">Gérez tous vos projets en cours</p>
                        </div>
                        <div className="flex items-center gap-2">
                            <div className="flex rounded-lg glass border border-gray-200">
                                <button
                                    onClick={() => setView('grid')}
                                    className={`px-3 py-1.5 rounded-l-lg ${view === 'grid' ? 'bg-blue-600 text-white' : ''}`}
                                >
                                    <Icon name="grid-3x3" size={16} />
                                </button>
                                <button
                                    onClick={() => setView('list')}
                                    className={`px-3 py-1.5 ${view === 'list' ? 'bg-blue-600 text-white' : ''}`}
                                >
                                    <Icon name="list" size={16} />
                                </button>
                                <button
                                    onClick={() => setView('kanban')}
                                    className={`px-3 py-1.5 rounded-r-lg ${view === 'kanban' ? 'bg-blue-600 text-white' : ''}`}
                                >
                                    <Icon name="columns-3" size={16} />
                                </button>
                            </div>
                            <Button>
                                <Icon name="plus" size={16} className="mr-2" />
                                Nouveau Projet
                            </Button>
                        </div>
                    </div>

                    {view === 'grid' && (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {mockData.projects.map(project => (
                                <ProjectCard key={project.id} project={project} />
                            ))}
                        </div>
                    )}

                    {view === 'list' && (
                        <Card>
                            <table className="w-full">
                                <thead>
                                    <tr className="border-b border-gray-200">
                                        <th className="text-left py-3 px-4">Projet</th>
                                        <th className="text-left py-3 px-4">Client</th>
                                        <th className="text-left py-3 px-4">Statut</th>
                                        <th className="text-left py-3 px-4">Équipe</th>
                                        <th className="text-left py-3 px-4">Progression</th>
                                        <th className="text-left py-3 px-4">Échéance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {mockData.projects.map(project => (
                                        <tr key={project.id} className="border-b border-gray-100 hover:bg-gray-50">
                                            <td className="py-3 px-4 font-medium">{project.name}</td>
                                            <td className="py-3 px-4">{project.client}</td>
                                            <td className="py-3 px-4">
                                                <span className={`px-2 py-1 rounded text-xs font-medium ${
                                                    project.status === 'completed' ? 'bg-green-100 text-green-700' :
                                                    project.status === 'in_progress' ? 'bg-blue-100 text-blue-700' :
                                                    'bg-yellow-100 text-yellow-700'
                                                }`}>
                                                    {project.status === 'completed' ? 'Terminé' :
                                                     project.status === 'in_progress' ? 'En cours' : 'Planification'}
                                                </span>
                                            </td>
                                            <td className="py-3 px-4">
                                                <div className="flex -space-x-2">
                                                    {project.team.map((member, i) => (
                                                        <div key={i} className="w-6 h-6 rounded-full bg-gray-300 border border-white flex items-center justify-center text-xs">
                                                            {member}
                                                        </div>
                                                    ))}
                                                </div>
                                            </td>
                                            <td className="py-3 px-4">
                                                <div className="flex items-center gap-2">
                                                    <div className="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
                                                        <div
                                                            className="h-full bg-blue-600 rounded-full"
                                                            style={{ width: `${project.progress}%` }}
                                                        />
                                                    </div>
                                                    <span className="text-sm">{project.progress}%</span>
                                                </div>
                                            </td>
                                            <td className="py-3 px-4 text-sm">
                                                {new Date(project.deadline).toLocaleDateString('fr-FR')}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </Card>
                    )}

                    {view === 'kanban' && (
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            {['planning', 'in_progress', 'completed'].map(status => (
                                <div key={status} className="glass rounded-xl p-4">
                                    <h3 className="font-semibold mb-4 flex items-center gap-2">
                                        <span className={`w-3 h-3 rounded-full ${
                                            status === 'completed' ? 'bg-green-500' :
                                            status === 'in_progress' ? 'bg-blue-500' :
                                            'bg-yellow-500'
                                        }`}></span>
                                        {status === 'completed' ? 'Terminé' :
                                         status === 'in_progress' ? 'En cours' : 'Planification'}
                                    </h3>
                                    <div className="space-y-3">
                                        {mockData.projects.filter(p => p.status === status).map(project => (
                                            <Card key={project.id} className="cursor-pointer hover:shadow-lg transition-shadow">
                                                <h4 className="font-medium mb-2">{project.name}</h4>
                                                <p className="text-sm text-gray-600 mb-3">{project.client}</p>
                                                <div className="flex items-center justify-between">
                                                    <div className="flex -space-x-2">
                                                        {project.team.map((member, i) => (
                                                            <div key={i} className="w-6 h-6 rounded-full bg-gray-300 border border-white flex items-center justify-center text-xs">
                                                                {member}
                                                            </div>
                                                        ))}
                                                    </div>
                                                    <span className="text-xs text-gray-500">
                                                        {new Date(project.deadline).toLocaleDateString('fr-FR')}
                                                    </span>
                                                </div>
                                            </Card>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        // Other Modules Placeholder
        const ComingSoonModule = ({ title, description, icon }) => (
            <div className="flex items-center justify-center h-full animate-fadeIn">
                <div className="text-center">
                    <div className="inline-flex p-4 rounded-full bg-gray-100 mb-4">
                        <Icon name={icon} size={48} className="text-gray-400" />
                    </div>
                    <h2 className="text-2xl font-bold mb-2">{title}</h2>
                    <p className="text-gray-600 mb-4">{description}</p>
                    <Button variant="secondary">
                        <Icon name="bell" size={16} className="mr-2" />
                        Me notifier quand c'est prêt
                    </Button>
                </div>
            </div>
        );

        // Main App Component
        const App = () => {
            const [isAuthenticated, setIsAuthenticated] = useState(true);
            const [collapsed, setCollapsed] = useState(false);
            const [currentModule, setCurrentModule] = useState('dashboard');
            const [selectedCompany, setSelectedCompany] = useState('all');

            const renderModule = () => {
                switch(currentModule) {
                    case 'dashboard':
                        return <DashboardModule />;
                    case 'projects':
                        return <ProjectsModule />;
                    case 'finance':
                        return <ComingSoonModule 
                            title="Module Finance" 
                            description="Gérez vos finances, factures et paiements"
                            icon="wallet"
                        />;
                    case 'crm':
                        return <ComingSoonModule 
                            title="Module CRM" 
                            description="Gérez vos relations clients"
                            icon="users"
                        />;
                    case 'accounting':
                        return <ComingSoonModule 
                            title="Module Comptabilité" 
                            description="Comptabilité suisse complète"
                            icon="calculator"
                        />;
                    case 'hr':
                        return <ComingSoonModule 
                            title="Module RH" 
                            description="Gestion des ressources humaines"
                            icon="users-round"
                        />;
                    case 'legal':
                        return <ComingSoonModule 
                            title="Module Juridique" 
                            description="CGV, contrats et conformité"
                            icon="shield"
                        />;
                    case 'support':
                        return <ComingSoonModule 
                            title="Module Support" 
                            description="Gestion des tickets et support client"
                            icon="headphones"
                        />;
                    case 'marketing':
                        return <ComingSoonModule 
                            title="Module Marketing" 
                            description="Campagnes et automatisation marketing"
                            icon="megaphone"
                        />;
                    case 'settings':
                        return <ComingSoonModule 
                            title="Paramètres" 
                            description="Configuration de la plateforme"
                            icon="settings"
                        />;
                    default:
                        return <DashboardModule />;
                }
            };

            if (!isAuthenticated) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
                        <Card className="w-full max-w-md">
                            <h2 className="text-2xl font-bold mb-6 text-center">Connexion SuperAdmin</h2>
                            <form onSubmit={(e) => {
                                e.preventDefault();
                                setIsAuthenticated(true);
                            }}>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Email</label>
                                        <input
                                            type="email"
                                            className="w-full px-3 py-2 rounded-lg border border-gray-300"
                                            defaultValue="admin@hypervisual.ch"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Mot de passe</label>
                                        <input
                                            type="password"
                                            className="w-full px-3 py-2 rounded-lg border border-gray-300"
                                            defaultValue="admin123"
                                        />
                                    </div>
                                    <Button type="submit" className="w-full">
                                        Se connecter
                                    </Button>
                                </div>
                            </form>
                        </Card>
                    </div>
                );
            }

            return (
                <AuthContext.Provider value={{ user: mockData.user }}>
                    <div className="flex h-screen bg-gradient-to-br from-gray-50 to-gray-100">
                        <Sidebar 
                            collapsed={collapsed} 
                            setCollapsed={setCollapsed}
                            currentModule={currentModule}
                            setCurrentModule={setCurrentModule}
                        />
                        <div className="flex-1 flex flex-col overflow-hidden">
                            <TopBar 
                                selectedCompany={selectedCompany}
                                setSelectedCompany={setSelectedCompany}
                            />
                            <main className="flex-1 overflow-y-auto p-6">
                                {renderModule()}
                            </main>
                        </div>
                    </div>
                </AuthContext.Provider>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>