# ========================================
# DASHBOARD CLIENT: PRESTA - TEMPLATE ENV
# ========================================
# Copier ce fichier vers .env et remplir les valeurs
# cp .env.example .env

# ========================================
# CONFIGURATION GÉNÉRALE
# ========================================
NODE_ENV=development
APP_NAME="Dashboard Client: Presta"
APP_URL=http://localhost:3000
APP_VERSION=2.2.0

# ========================================
# SERVEUR
# ========================================
PORT=3000
HOST=localhost

# ========================================
# NOTION API
# ========================================
# Obtenir depuis: https://www.notion.so/my-integrations
NOTION_API_KEY=secret_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NOTION_VERSION=2022-06-28

# Rate limiting Notion (3 req/sec max)
NOTION_RATE_LIMIT_PER_SECOND=3
NOTION_RETRY_AFTER_MS=1000

# ========================================
# AUTHENTIFICATION
# ========================================
# Générer avec: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_IN_PRODUCTION
JWT_REFRESH_SECRET=CHANGE_THIS_IN_PRODUCTION
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session
SESSION_SECRET=CHANGE_THIS_IN_PRODUCTION
SESSION_COOKIE_NAME=dashboard_session
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_MAX_AGE=86400000

# ========================================
# OPENAI API (pour OCR)
# ========================================
# Obtenir depuis: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
OPENAI_MODEL=gpt-4-vision-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.2

# ========================================
# SÉCURITÉ
# ========================================
# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_CREDENTIALS=true

# Rate limiting global
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Encryption
ENCRYPTION_KEY=CHANGE_THIS_32_CHARS_MINIMUM
HASH_ROUNDS=10

# ========================================
# CACHE
# ========================================
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_CHECK_PERIOD=600
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ========================================
# LOGS ET MONITORING
# ========================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_DIR=./logs
LOG_MAX_FILES=14d
LOG_MAX_SIZE=20m

# Sentry (optionnel)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ========================================
# EMAIL (pour notifications)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM="Dashboard Presta <noreply@dashboard-presta.ch>"

# ========================================
# STOCKAGE
# ========================================
UPLOAD_DIR=./uploads
UPLOAD_MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx,xls,xlsx

# S3 (optionnel pour backups)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-west-1
S3_BUCKET_NAME=

# ========================================
# BASE DE DONNÉES (future migration)
# ========================================
# PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/dashboard_presta
DATABASE_SSL=false

# ========================================
# SERVICES EXTERNES
# ========================================
# Revolut Business API (optionnel)
REVOLUT_API_KEY=
REVOLUT_SANDBOX=true

# Stripe (optionnel pour paiements)
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ========================================
# DÉVELOPPEMENT
# ========================================
DEBUG=false
VERBOSE_LOGGING=false
MOCK_DATA=false

# Hot reload
WATCH_MODE=true
WATCH_POLL=false

# ========================================
# SUPERADMIN
# ========================================
SUPERADMIN_ACCESS_KEY=CHANGE_THIS_IN_PRODUCTION
ENABLE_SUPERADMIN_FEATURES=true

# ========================================
# FEATURES FLAGS
# ========================================
ENABLE_OCR=true
ENABLE_2FA=true
ENABLE_CHAT=true
ENABLE_OFFLINE_MODE=true
ENABLE_MULTI_ENTITIES=true
ENABLE_VAT_CALCULATION=true

# ========================================
# LOCALISATION
# ========================================
DEFAULT_LOCALE=fr-CH
DEFAULT_TIMEZONE=Europe/Zurich
DEFAULT_CURRENCY=CHF
DATE_FORMAT=DD.MM.YYYY