<!DOCTYPE html>
<html>
<head>
    <title>Test Upload URLs Forcées</title>
</head>
<body>
    <h1>Test URLs Upload Forcées vers Port 3000</h1>
    <button onclick="testUrls()">Tester URLs</button>
    <div id="results"></div>

    <script>
        function testUrls() {
            const results = document.getElementById('results');
            const currentPort = window.location.port || '80';
            
            results.innerHTML = `
                <h3>Configuration :</h3>
                <p><strong>Port de la page :</strong> ${currentPort}</p>
                <p><strong>URLs forcées vers :</strong> http://localhost:3000</p>
                
                <h3>URLs utilisées :</h3>
                <p>• Création : http://localhost:3000/api/notion/upload-proxy/create</p>
                <p>• Envoi : http://localhost:3000/api/notion/upload-proxy/send/{id}</p>
                <p>• Info : http://localhost:3000/api/notion/upload-proxy/info/{id}</p>
                
                <h3>Résultat :</h3>
                <p style="color: green;">✅ L'upload utilisera TOUJOURS le port 3000, même depuis le port 8000</p>
            `;
        }
        
        // Test automatique au chargement
        window.onload = testUrls;
    </script>
</body>
</html>