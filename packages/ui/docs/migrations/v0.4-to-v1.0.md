# Migration Guide: v0.4.x to v1.0.0

## Overview
Version 1.0.0 is a major release with significant improvements in performance, documentation, and features.

## Breaking Changes

### 1. Component Import Changes
Some components now use dynamic imports for better performance:

```typescript
// Before (v0.4.x)
import { DataGrid } from '@dainabase/ui';

// After (v1.0.0) - for heavy components
const DataGrid = lazy(() => import('@dainabase/ui/data-grid'));
```

### 2. Theme System Changes
```typescript
// Before (v0.4.x)
<ThemeProvider theme="dark">

// After (v1.0.0)
<ThemeProvider
  theme="dark"
  themeConfig={{
    colors: customColors,
    fonts: customFonts
  }}
>
```

### 3. Form Component API
```typescript
// Before (v0.4.x)
<Form onSubmit={handleSubmit}>

// After (v1.0.0)
<Form
  onSubmit={handleSubmit}
  validation={zodSchema}
  mode="onChange"
>
```

## New Features

### New Components (9)
- Accordion
- Slider
- Rating
- Timeline
- Stepper
- Pagination (advanced)
- Carousel
- ColorPicker
- FileUpload

### i18n Support
```typescript
import { I18nProvider } from '@dainabase/ui';

<I18nProvider locale="fr" messages={frenchMessages}>
  <App />
</I18nProvider>
```

### RTL Support
```typescript
<ThemeProvider dir="rtl">
  <App />
</ThemeProvider>
```

### Animation System
```typescript
import { animated } from '@dainabase/ui';

<animated.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  exit={{ opacity: 0 }}
>
  Content
</animated.div>
```

## Performance Improvements
- Bundle size reduced by 40% (< 50KB gzipped)
- Automatic code splitting
- Lazy loading for all components
- Tree-shaking improvements

## Migration Steps

### 1. Update Dependencies
```bash
pnpm update @dainabase/ui@1.0.0
```

### 2. Install Peer Dependencies
```bash
pnpm add framer-motion@^11.0.0
pnpm add @formatjs/intl@^2.0.0
```

### 3. Update ThemeProvider
Add theme configuration if using custom themes.

### 4. Update Heavy Components
Convert DataGrid, Charts, and other heavy components to use dynamic imports.

### 5. Add i18n (Optional)
Wrap your app with I18nProvider if using internationalization.

### 6. Test Thoroughly
- Run all tests
- Check bundle size
- Verify performance metrics
- Test in all supported browsers

## Deprecated Features
- `className` prop on ThemeProvider (use `themeConfig` instead)
- Manual lazy loading (now automatic)
- Custom dark mode implementation (use theme system)

## CLI Migration Tool
```bash
npx @dainabase/ui-cli migrate 0.4 1.0
```

This will:
- Update imports automatically
- Add lazy loading where needed
- Update deprecated APIs
- Generate a migration report

## Rollback Plan
If issues occur:
```bash
pnpm add @dainabase/ui@0.4.0
```

## Support
- Documentation: https://dainabase.github.io/directus-unified-platform
- Discord: https://discord.gg/dainabase
- GitHub Issues: https://github.com/dainabase/directus-unified-platform/issues

## Notes
- v1.0.0 is fully backward compatible for most use cases
- Performance improvements are automatic
- New features are opt-in
- Migration can be done incrementally