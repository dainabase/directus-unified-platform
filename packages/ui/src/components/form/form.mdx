# Form

A comprehensive form component built on top of React Hook Form with Zod validation.

## Overview

The Form component provides a complete solution for building forms with validation, error handling, and accessibility support.

## Usage

```tsx
import { Form, FormField, FormItem, FormLabel, FormControl, FormMessage } from '@dainabase/ui';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import * as z from 'zod';

const formSchema = z.object({
  username: z.string().min(2, {
    message: "Username must be at least 2 characters.",
  }),
  email: z.string().email({
    message: "Please enter a valid email address.",
  }),
});

function MyForm() {
  const form = useForm<z.infer<typeof formSchema>>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      username: "",
      email: "",
    },
  });

  function onSubmit(values: z.infer<typeof formSchema>) {
    console.log(values);
  }

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-8">
        <FormField
          control={form.control}
          name="username"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Username</FormLabel>
              <FormControl>
                <Input placeholder="Enter username" {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />
        <FormField
          control={form.control}
          name="email"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Email</FormLabel>
              <FormControl>
                <Input type="email" placeholder="Enter email" {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />
        <Button type="submit">Submit</Button>
      </form>
    </Form>
  );
}
```

## Features

- **Validation**: Built-in Zod schema validation
- **Error Handling**: Automatic error message display
- **Accessibility**: Full ARIA support and keyboard navigation
- **Type Safety**: Full TypeScript support with inference
- **Flexible**: Works with any input component

## Components

### Form
The root component that provides form context.

### FormField
Connects a form control to the form state.

### FormItem
Container for form field elements.

### FormLabel
Accessible label for form controls.

### FormControl
Wrapper for form input elements.

### FormMessage
Displays validation error messages.

### FormDescription
Optional helper text for form fields.

## Accessibility

- Proper label association with `for` and `id` attributes
- Error messages announced to screen readers
- Required fields marked with `aria-required`
- Invalid fields marked with `aria-invalid`
- Keyboard navigation support

## Best Practices

1. **Always use validation schemas**: Define clear validation rules with Zod
2. **Provide helpful error messages**: Be specific about what went wrong
3. **Use proper field types**: Use email, tel, number inputs where appropriate
4. **Group related fields**: Use fieldsets for related form sections
5. **Handle loading states**: Disable form during submission

## Examples

### With Different Input Types

```tsx
<FormField
  control={form.control}
  name="preferences"
  render={({ field }) => (
    <FormItem>
      <FormLabel>Preferences</FormLabel>
      <FormControl>
        <Select onValueChange={field.onChange} defaultValue={field.value}>
          <SelectTrigger>
            <SelectValue placeholder="Select preference" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="option1">Option 1</SelectItem>
            <SelectItem value="option2">Option 2</SelectItem>
          </SelectContent>
        </Select>
      </FormControl>
      <FormMessage />
    </FormItem>
  )}
/>
```

### With Checkbox

```tsx
<FormField
  control={form.control}
  name="terms"
  render={({ field }) => (
    <FormItem className="flex flex-row items-start space-x-3 space-y-0">
      <FormControl>
        <Checkbox
          checked={field.value}
          onCheckedChange={field.onChange}
        />
      </FormControl>
      <div className="space-y-1 leading-none">
        <FormLabel>
          Accept terms and conditions
        </FormLabel>
        <FormDescription>
          You agree to our Terms of Service and Privacy Policy.
        </FormDescription>
      </div>
    </FormItem>
  )}
/>
```

## Related

- [Input](./input) - Text input component
- [Select](./select) - Dropdown select component
- [Checkbox](./checkbox) - Checkbox component
- [Switch](./switch) - Toggle switch component
- [Textarea](./textarea) - Multi-line text input
