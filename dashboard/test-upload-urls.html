<!DOCTYPE html>
<html>
<head>
    <title>Test URLs Upload OCR</title>
</head>
<body>
    <h1>Test Configuration URLs Upload</h1>
    <button onclick="testUrls()">Tester URLs</button>
    <div id="results"></div>

    <script src="assets/js/Superadmin/ocr-notion-smart-resolver.js"></script>
    <script>
        function testUrls() {
            const resolver = new OCRNotionSmartResolver();
            
            const results = document.getElementById('results');
            results.innerHTML = `
                <h3>Configuration détectée:</h3>
                <p><strong>Port courant:</strong> ${window.location.port}</p>
                <p><strong>baseUrl:</strong> ${resolver.baseUrl}</p>
                <p><strong>uploadBaseUrl:</strong> ${resolver.uploadBaseUrl}</p>
                <p><strong>URL upload:</strong> ${resolver.uploadBaseUrl}/api/notion/upload-proxy/create</p>
                
                <h3>Test détection:</h3>
                <p>Port 8000 détecté: ${window.location.port === '8000' ? '✅ OUI' : '❌ NON'}</p>
                <p>Redirection vers 3000: ${resolver.uploadBaseUrl.includes('3000') ? '✅ OUI' : '❌ NON'}</p>
            `;
        }
        
        // Test automatique au chargement
        window.onload = testUrls;
    </script>
</body>
</html>