<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Devis - Revendeur Portal</title>
    
    <!-- CSS files -->
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/css/tabler.min.css" rel="stylesheet"/>
    <link href="../assets/css/custom.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons@latest/iconfont/tabler-icons.min.css">
</head>
<body class="layout-fluid role-revendeur">
    <div class="page">
        <!-- Navbar -->
        <header class="navbar navbar-expand-md d-print-none">
            <div class="container-xl">
                <!-- Navbar content loaded dynamically -->
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="navbar navbar-vertical navbar-expand-md" id="sidebar-menu">
            <!-- Sidebar content loaded dynamically -->
        </aside>

        <div class="page-wrapper">
            <div class="page-header d-print-none">
                <div class="container-xl">
                    <div class="row g-2 align-items-center">
                        <div class="col">
                            <div class="page-pretitle">Gestion commerciale</div>
                            <h2 class="page-title">
                                Devis
                            </h2>
                        </div>
                        <div class="col-auto ms-auto d-print-none">
                            <div class="btn-list">
                                <span class="d-none d-sm-inline">
                                    <button class="btn" data-bs-toggle="modal" data-bs-target="#modal-export">
                                        <i class="ti ti-file-export"></i>
                                        Exporter
                                    </button>
                                </span>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal-new-quote">
                                    <i class="ti ti-plus"></i>
                                    Nouveau devis
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page-body">
                <div class="container-xl">
                    <!-- Statistiques -->
                    <div class="row row-deck row-cards mb-4">
                        <div class="col-sm-6 col-lg-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="subheader">Devis ce mois</div>
                                        <div class="ms-auto lh-1">
                                            <span class="text-muted">+15%</span>
                                        </div>
                                    </div>
                                    <div class="h1 mb-3">24</div>
                                    <div class="d-flex mb-2">
                                        <div>Valeur totale</div>
                                        <div class="ms-auto">
                                            <span class="text-green d-inline-flex align-items-center lh-1">
                                                CHF 156'780
                                            </span>
                                        </div>
                                    </div>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-primary" style="width: 75%" role="progressbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="subheader">En attente</div>
                                        <div class="ms-auto lh-1">
                                            <span class="badge bg-yellow">8</span>
                                        </div>
                                    </div>
                                    <div class="h1 mb-3">CHF 42'350</div>
                                    <div class="d-flex mb-2">
                                        <div>Temps moyen</div>
                                        <div class="ms-auto">
                                            <span class="text-muted">3.2 jours</span>
                                        </div>
                                    </div>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-warning" style="width: 35%" role="progressbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="subheader">Acceptés</div>
                                        <div class="ms-auto lh-1">
                                            <span class="badge bg-green">12</span>
                                        </div>
                                    </div>
                                    <div class="h1 mb-3">CHF 89'500</div>
                                    <div class="d-flex mb-2">
                                        <div>Taux conversion</div>
                                        <div class="ms-auto">
                                            <span class="text-green d-inline-flex align-items-center lh-1">
                                                68% <i class="ti ti-trending-up"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-success" style="width: 68%" role="progressbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="subheader">Expirés</div>
                                        <div class="ms-auto lh-1">
                                            <span class="badge bg-red">4</span>
                                        </div>
                                    </div>
                                    <div class="h1 mb-3">CHF 24'930</div>
                                    <div class="d-flex mb-2">
                                        <div>À relancer</div>
                                        <div class="ms-auto">
                                            <span class="text-red">2 clients</span>
                                        </div>
                                    </div>
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-danger" style="width: 15%" role="progressbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Filtres et recherche -->
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row g-2">
                                <div class="col-md-3">
                                    <input type="text" class="form-control" placeholder="Rechercher un devis...">
                                </div>
                                <div class="col-md-2">
                                    <select class="form-select">
                                        <option value="">Tous les statuts</option>
                                        <option value="draft">Brouillon</option>
                                        <option value="sent">Envoyé</option>
                                        <option value="viewed">Consulté</option>
                                        <option value="accepted">Accepté</option>
                                        <option value="rejected">Refusé</option>
                                        <option value="expired">Expiré</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <select class="form-select">
                                        <option value="">Tous les clients</option>
                                        <option value="1">TechCorp SA</option>
                                        <option value="2">Innovation Labs</option>
                                        <option value="3">Digital Solutions</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <input type="date" class="form-control" placeholder="Date début">
                                </div>
                                <div class="col-md-2">
                                    <input type="date" class="form-control" placeholder="Date fin">
                                </div>
                                <div class="col-md-1">
                                    <button class="btn btn-icon" title="Filtrer">
                                        <i class="ti ti-filter"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Liste des devis -->
                    <div class="card">
                        <div class="table-responsive">
                            <table class="table table-vcenter card-table">
                                <thead>
                                    <tr>
                                        <th>N° Devis</th>
                                        <th>Client</th>
                                        <th>Projet</th>
                                        <th>Montant</th>
                                        <th>Date</th>
                                        <th>Validité</th>
                                        <th>Statut</th>
                                        <th class="w-1"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="text-reset">#DEV-2025-0024</div>
                                            <div class="text-muted small">v2 - Révision</div>
                                        </td>
                                        <td>
                                            <div class="d-flex py-1 align-items-center">
                                                <span class="avatar me-2" style="background-image: url(../assets/avatars/company1.png)"></span>
                                                <div class="flex-fill">
                                                    <div class="font-weight-medium">TechCorp SA</div>
                                                    <div class="text-muted small">Marc Dubois</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div>Refonte site web</div>
                                            <div class="text-muted small">E-commerce B2B</div>
                                        </td>
                                        <td class="text-end">
                                            <div class="fw-bold">CHF 32'500</div>
                                            <div class="text-muted small">HT</div>
                                        </td>
                                        <td>
                                            <div>23 juil. 2025</div>
                                            <div class="text-muted small">Il y a 2 jours</div>
                                        </td>
                                        <td>
                                            <div class="text-orange">5 jours</div>
                                            <div class="text-muted small">30 juil. 2025</div>
                                        </td>
                                        <td>
                                            <span class="badge bg-yellow">En attente</span>
                                            <div class="text-muted small mt-1">
                                                <i class="ti ti-eye"></i> Consulté
                                            </div>
                                        </td>
                                        <td>
                                            <div class="dropdown">
                                                <button class="btn btn-sm dropdown-toggle align-text-top" data-bs-toggle="dropdown">
                                                    Actions
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-end">
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-eye me-2"></i> Voir
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-pencil me-2"></i> Modifier
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-copy me-2"></i> Dupliquer
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-send me-2"></i> Envoyer
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-file-invoice me-2"></i> Convertir en facture
                                                    </a>
                                                    <a class="dropdown-item text-danger" href="#">
                                                        <i class="ti ti-trash me-2"></i> Supprimer
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="text-reset">#DEV-2025-0023</div>
                                            <div class="text-muted small">Original</div>
                                        </td>
                                        <td>
                                            <div class="d-flex py-1 align-items-center">
                                                <span class="avatar me-2 bg-blue-lt">IL</span>
                                                <div class="flex-fill">
                                                    <div class="font-weight-medium">Innovation Labs</div>
                                                    <div class="text-muted small">Sophie Martin</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div>Application mobile</div>
                                            <div class="text-muted small">iOS + Android</div>
                                        </td>
                                        <td class="text-end">
                                            <div class="fw-bold">CHF 48'900</div>
                                            <div class="text-muted small">HT</div>
                                        </td>
                                        <td>
                                            <div>20 juil. 2025</div>
                                            <div class="text-muted small">Il y a 5 jours</div>
                                        </td>
                                        <td>
                                            <div class="text-green">Valide</div>
                                            <div class="text-muted small">4 août 2025</div>
                                        </td>
                                        <td>
                                            <span class="badge bg-green">Accepté</span>
                                            <div class="text-muted small mt-1">
                                                <i class="ti ti-check"></i> 22 juil.
                                            </div>
                                        </td>
                                        <td>
                                            <div class="dropdown">
                                                <button class="btn btn-sm dropdown-toggle align-text-top" data-bs-toggle="dropdown">
                                                    Actions
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-end">
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-eye me-2"></i> Voir
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-download me-2"></i> Télécharger PDF
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-file-invoice me-2"></i> Créer facture
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-clipboard-check me-2"></i> Créer projet
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="text-reset">#DEV-2025-0022</div>
                                            <div class="text-muted small">Original</div>
                                        </td>
                                        <td>
                                            <div class="d-flex py-1 align-items-center">
                                                <span class="avatar me-2 bg-green-lt">DS</span>
                                                <div class="flex-fill">
                                                    <div class="font-weight-medium">Digital Solutions</div>
                                                    <div class="text-muted small">Pierre Moreau</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div>Audit SEO</div>
                                            <div class="text-muted small">+ Optimisation</div>
                                        </td>
                                        <td class="text-end">
                                            <div class="fw-bold">CHF 8'500</div>
                                            <div class="text-muted small">HT</div>
                                        </td>
                                        <td>
                                            <div>18 juil. 2025</div>
                                            <div class="text-muted small">Il y a 7 jours</div>
                                        </td>
                                        <td>
                                            <div class="text-muted">Expiré</div>
                                            <div class="text-muted small"><s>17 juil. 2025</s></div>
                                        </td>
                                        <td>
                                            <span class="badge bg-red">Expiré</span>
                                            <div class="text-muted small mt-1">
                                                <i class="ti ti-clock-x"></i> Relancer
                                            </div>
                                        </td>
                                        <td>
                                            <div class="dropdown">
                                                <button class="btn btn-sm dropdown-toggle align-text-top" data-bs-toggle="dropdown">
                                                    Actions
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-end">
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-eye me-2"></i> Voir
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-refresh me-2"></i> Renouveler
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-copy me-2"></i> Dupliquer
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item text-danger" href="#">
                                                        <i class="ti ti-trash me-2"></i> Supprimer
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="text-reset">#DEV-2025-0021</div>
                                            <div class="text-muted small">Brouillon</div>
                                        </td>
                                        <td>
                                            <div class="d-flex py-1 align-items-center">
                                                <span class="avatar me-2 bg-purple-lt">NE</span>
                                                <div class="flex-fill">
                                                    <div class="font-weight-medium">NextGen Enterprise</div>
                                                    <div class="text-muted small">Nouveau client</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div>Infrastructure Cloud</div>
                                            <div class="text-muted small">Migration Azure</div>
                                        </td>
                                        <td class="text-end">
                                            <div class="fw-bold">CHF 125'000</div>
                                            <div class="text-muted small">HT</div>
                                        </td>
                                        <td>
                                            <div>25 juil. 2025</div>
                                            <div class="text-muted small">Aujourd'hui</div>
                                        </td>
                                        <td>
                                            <div class="text-muted">-</div>
                                            <div class="text-muted small">Non défini</div>
                                        </td>
                                        <td>
                                            <span class="badge bg-secondary">Brouillon</span>
                                            <div class="text-muted small mt-1">
                                                <i class="ti ti-pencil"></i> En cours
                                            </div>
                                        </td>
                                        <td>
                                            <div class="dropdown">
                                                <button class="btn btn-sm dropdown-toggle align-text-top" data-bs-toggle="dropdown">
                                                    Actions
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-end">
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-pencil me-2"></i> Continuer
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-eye me-2"></i> Aperçu
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <i class="ti ti-send me-2"></i> Finaliser et envoyer
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item text-danger" href="#">
                                                        <i class="ti ti-trash me-2"></i> Supprimer
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="card-footer d-flex align-items-center">
                            <p class="m-0 text-muted">Affichage de <span>1</span> à <span>4</span> sur <span>24</span> entrées</p>
                            <ul class="pagination m-0 ms-auto">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                                        <i class="ti ti-chevron-left"></i>
                                        Précédent
                                    </a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">
                                        Suivant
                                        <i class="ti ti-chevron-right"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="footer footer-transparent d-print-none">
                <div class="container-xl">
                    <div class="row text-center align-items-center">
                        <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                            <ul class="list-inline list-inline-dots mb-0">
                                <li class="list-inline-item">
                                    &copy; 2025 Portal Multi-Rôles
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Modal nouveau devis -->
    <div class="modal modal-blur fade" id="modal-new-quote" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Nouveau devis</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
                </div>
                <form>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label required">Client</label>
                                    <select class="form-select" required>
                                        <option value="">Sélectionner un client</option>
                                        <option value="1">TechCorp SA</option>
                                        <option value="2">Innovation Labs</option>
                                        <option value="3">Digital Solutions</option>
                                        <option value="new">+ Nouveau client</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Contact</label>
                                    <select class="form-select">
                                        <option value="">Sélectionner un contact</option>
                                        <option value="1">Marc Dubois</option>
                                        <option value="2">Sophie Martin</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label required">Objet du devis</label>
                            <input type="text" class="form-control" placeholder="Ex: Développement site e-commerce" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Modèle</label>
                                    <select class="form-select">
                                        <option value="">Aucun modèle</option>
                                        <option value="1">Modèle site web</option>
                                        <option value="2">Modèle application</option>
                                        <option value="3">Modèle maintenance</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label required">Validité (jours)</label>
                                    <input type="number" class="form-control" value="30" min="1" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notes internes</label>
                            <textarea class="form-control" rows="2" placeholder="Notes visibles uniquement en interne"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-check">
                                <input class="form-check-input" type="checkbox" checked>
                                <span class="form-check-label">Envoyer une notification au client après création</span>
                            </label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="ti ti-plus"></i>
                            Créer le devis
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal export -->
    <div class="modal modal-blur fade" id="modal-export" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Exporter les devis</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Format</label>
                        <select class="form-select">
                            <option value="xlsx">Excel (.xlsx)</option>
                            <option value="csv">CSV (.csv)</option>
                            <option value="pdf">PDF (.pdf)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Période</label>
                        <select class="form-select">
                            <option value="all">Tous les devis</option>
                            <option value="month">Ce mois</option>
                            <option value="quarter">Ce trimestre</option>
                            <option value="year">Cette année</option>
                            <option value="custom">Personnalisée...</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Statuts à inclure</label>
                        <div class="form-selectgroup form-selectgroup-boxes d-flex flex-column">
                            <label class="form-selectgroup-item flex-fill">
                                <input type="checkbox" name="statuses" value="draft" class="form-selectgroup-input" checked>
                                <div class="form-selectgroup-label d-flex align-items-center p-3">
                                    <div class="me-3">
                                        <span class="form-selectgroup-check"></span>
                                    </div>
                                    <div>Brouillons</div>
                                </div>
                            </label>
                            <label class="form-selectgroup-item flex-fill">
                                <input type="checkbox" name="statuses" value="sent" class="form-selectgroup-input" checked>
                                <div class="form-selectgroup-label d-flex align-items-center p-3">
                                    <div class="me-3">
                                        <span class="form-selectgroup-check"></span>
                                    </div>
                                    <div>Envoyés</div>
                                </div>
                            </label>
                            <label class="form-selectgroup-item flex-fill">
                                <input type="checkbox" name="statuses" value="accepted" class="form-selectgroup-input" checked>
                                <div class="form-selectgroup-label d-flex align-items-center p-3">
                                    <div class="me-3">
                                        <span class="form-selectgroup-check"></span>
                                    </div>
                                    <div>Acceptés</div>
                                </div>
                            </label>
                            <label class="form-selectgroup-item flex-fill">
                                <input type="checkbox" name="statuses" value="rejected" class="form-selectgroup-input">
                                <div class="form-selectgroup-label d-flex align-items-center p-3">
                                    <div class="me-3">
                                        <span class="form-selectgroup-check"></span>
                                    </div>
                                    <div>Refusés</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-primary">
                        <i class="ti ti-download"></i>
                        Télécharger
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tabler Core -->
    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/js/tabler.min.js"></script>
    <script src="../assets/js/app.js"></script>
</body>
</html>