<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperAdmin - Executive Dashboard</title>
    
    <!-- Font moderne -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://unpkg.com/lucide@latest/font/lucide.min.css">
    
    <!-- Nos CSS -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Container principal -->
    <div class="dashboard-container">
        
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <i data-lucide="menu"></i>
                </button>
                <h1 class="dashboard-title">Executive Dashboard</h1>
            </div>
            
            <div class="header-center">
                <!-- S√©lecteur d'entreprise -->
                <div class="company-selector">
                    <select id="companySelect" class="select-primary">
                        <option value="all">üè¢ Toutes les entreprises</option>
                        <option value="hypervisual">üìπ HyperVisual</option>
                        <option value="dynamics">üí° Dynamics</option>
                        <option value="lexia">üó£Ô∏è Lexia</option>
                        <option value="nkreality">üè† NKReality</option>
                        <option value="etekout">üõí Etekout</option>
                    </select>
                </div>
                
                <!-- S√©lecteur de p√©riode -->
                <div class="period-selector">
                    <select id="periodSelect" class="select-primary">
                        <option value="30">30 derniers jours</option>
                        <option value="90">3 derniers mois</option>
                        <option value="365">12 derniers mois</option>
                        <option value="custom">P√©riode personnalis√©e</option>
                    </select>
                </div>
            </div>
            
            <div class="header-right">
                <!-- Alertes -->
                <button class="header-btn alerts-btn">
                    <i data-lucide="bell"></i>
                    <span class="badge badge-danger">3</span>
                </button>
                
                <!-- Messages -->
                <button class="header-btn messages-btn">
                    <i data-lucide="message-square"></i>
                    <span class="badge">5</span>
                </button>
                
                <!-- Profil -->
                <div class="user-profile">
                    <span class="user-name">Jean-Marie D.</span>
                    <div class="user-avatar">JM</div>
                </div>
            </div>
        </header>
        
        <!-- Sidebar -->
        <aside class="dashboard-sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <!-- Executive -->
                <div class="nav-section">
                    <h3 class="nav-section-title">EXECUTIVE</h3>
                    <a href="#" class="nav-item active">
                        <i data-lucide="home"></i>
                        <span>Vue Consolid√©e</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="bar-chart-3"></i>
                        <span>Tableau de Bord</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="zap"></i>
                        <span>Centre d'Alertes</span>
                    </a>
                </div>
                
                <!-- Finances -->
                <div class="nav-section">
                    <h3 class="nav-section-title">FINANCES</h3>
                    <a href="#" class="nav-item">
                        <i data-lucide="wallet"></i>
                        <span>Tr√©sorerie</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="trending-up"></i>
                        <span>P&L Consolid√©</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="credit-card"></i>
                        <span>Banking</span>
                    </a>
                </div>
                
                <!-- Op√©rations -->
                <div class="nav-section">
                    <h3 class="nav-section-title">OP√âRATIONS</h3>
                    <a href="#" class="nav-item">
                        <i data-lucide="file-text"></i>
                        <span>Factures</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="package"></i>
                        <span>ERP</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i data-lucide="mail"></i>
                        <span>Marketing</span>
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- KPIs avec mini-graphiques -->
            <section class="kpi-grid">
                <!-- CA avec courbe -->
                <div class="kpi-card kpi-primary">
                    <div class="kpi-header">
                        <span class="kpi-label">CHIFFRE D'AFFAIRES</span>
                        <i data-lucide="euro"></i>
                    </div>
                    <div class="kpi-value">‚Ç¨2.45M</div>
                    <div class="kpi-sparkline" id="revenue-sparkline"></div>
                    <div class="kpi-change positive">
                        <i data-lucide="trending-up"></i>
                        <span>+12% vs mois dernier</span>
                    </div>
                </div>
                
                <!-- Marge avec gauge -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-label">MARGE NETTE</span>
                        <i data-lucide="percent"></i>
                    </div>
                    <div class="kpi-gauge" id="margin-gauge"></div>
                    <div class="kpi-value">18.7%</div>
                    <div class="kpi-change positive">
                        <span>Objectif: 20%</span>
                    </div>
                </div>
                
                <!-- Tr√©sorerie avec area chart -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-label">TR√âSORERIE</span>
                        <i data-lucide="banknote"></i>
                    </div>
                    <div class="kpi-value">‚Ç¨892K</div>
                    <div class="kpi-sparkline" id="cash-sparkline"></div>
                    <div class="kpi-change neutral">
                        <span>3.2 mois de BFR</span>
                    </div>
                </div>
                
                <!-- Nouveaux clients avec barres -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <span class="kpi-label">NOUVEAUX CLIENTS</span>
                        <i data-lucide="users"></i>
                    </div>
                    <div class="kpi-value">+47</div>
                    <div class="kpi-sparkline" id="clients-sparkline"></div>
                    <div class="kpi-change positive">
                        <span>+23% vs mois dernier</span>
                    </div>
                </div>
            </section>
            
            <!-- Performance par entreprise -->
            <section class="company-performance">
                <h2 class="section-title">Performance des 5 entreprises</h2>
                <div class="performance-list">
                    <div class="performance-item">
                        <div class="company-icon">üìπ</div>
                        <div class="company-info">
                            <h4>HyperVisual</h4>
                            <div class="performance-bar">
                                <div class="bar-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="company-metrics">
                            <span class="metric-value">‚Ç¨458K</span>
                            <span class="metric-change positive">‚ñ≤+18%</span>
                        </div>
                    </div>
                    
                    <div class="performance-item">
                        <div class="company-icon">üí°</div>
                        <div class="company-info">
                            <h4>Dynamics</h4>
                            <div class="performance-bar">
                                <div class="bar-fill" style="width: 92%"></div>
                            </div>
                        </div>
                        <div class="company-metrics">
                            <span class="metric-value">‚Ç¨623K</span>
                            <span class="metric-change positive">‚ñ≤+32%</span>
                        </div>
                    </div>
                    
                    <div class="performance-item">
                        <div class="company-icon">üó£Ô∏è</div>
                        <div class="company-info">
                            <h4>Lexia</h4>
                            <div class="performance-bar">
                                <div class="bar-fill" style="width: 78%"></div>
                            </div>
                        </div>
                        <div class="company-metrics">
                            <span class="metric-value">‚Ç¨384K</span>
                            <span class="metric-change positive">‚ñ≤+12%</span>
                        </div>
                    </div>
                    
                    <div class="performance-item">
                        <div class="company-icon">üè†</div>
                        <div class="company-info">
                            <h4>NKReality</h4>
                            <div class="performance-bar">
                                <div class="bar-fill" style="width: 95%"></div>
                            </div>
                        </div>
                        <div class="company-metrics">
                            <span class="metric-value">‚Ç¨789K</span>
                            <span class="metric-change positive">‚ñ≤+45%</span>
                        </div>
                    </div>
                    
                    <div class="performance-item">
                        <div class="company-icon">üõí</div>
                        <div class="company-info">
                            <h4>Etekout</h4>
                            <div class="performance-bar">
                                <div class="bar-fill" style="width: 68%"></div>
                            </div>
                        </div>
                        <div class="company-metrics">
                            <span class="metric-value">‚Ç¨196K</span>
                            <span class="metric-change negative">‚ñº-3%</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Graphiques principaux -->
            <section class="charts-grid">
                <!-- Evolution CA 12 mois -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Evolution du Chiffre d'Affaires</h3>
                        <div class="chart-controls">
                            <button class="chart-btn active" data-range="1M">1M</button>
                            <button class="chart-btn" data-range="3M">3M</button>
                            <button class="chart-btn" data-range="6M">6M</button>
                            <button class="chart-btn" data-range="1Y">1Y</button>
                        </div>
                    </div>
                    <div id="revenue-chart"></div>
                </div>
                
                <!-- R√©partition par entreprise -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>R√©partition CA par Entreprise</h3>
                        <span class="chart-subtitle">P√©riode actuelle</span>
                    </div>
                    <div id="companies-donut"></div>
                </div>
            </section>

            <!-- M√©triques avanc√©es -->
            <section class="metrics-grid">
                <!-- Cash Flow -->
                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Cash Flow Pr√©visionnel</h3>
                        <i data-lucide="trending-up"></i>
                    </div>
                    <div id="cashflow-chart"></div>
                </div>
                
                <!-- Pipeline Commercial -->
                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Pipeline Commercial</h3>
                        <i data-lucide="funnel"></i>
                    </div>
                    <div id="pipeline-chart"></div>
                </div>
                
                <!-- Heatmap Activit√© -->
                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Activit√© par Jour</h3>
                        <i data-lucide="activity"></i>
                    </div>
                    <div id="activity-heatmap"></div>
                </div>
            </section>
            
            <!-- Alertes critiques -->
            <section class="alerts-section">
                <h2 class="section-title">
                    <i data-lucide="alert-triangle"></i>
                    Actions Requises
                </h2>
                <div class="alerts-list">
                    <div class="alert-item alert-warning">
                        <i data-lucide="trending-down"></i>
                        <span>Etekout: Baisse CA -3% - Analyser urgence</span>
                        <button class="btn-action">Voir d√©tails</button>
                    </div>
                    <div class="alert-item alert-danger">
                        <i data-lucide="dollar-sign"></i>
                        <span>3 factures impay√©es > 60 jours (‚Ç¨127K total)</span>
                        <button class="btn-action">Relancer</button>
                    </div>
                    <div class="alert-item alert-warning">
                        <i data-lucide="users"></i>
                        <span>5 cong√©s en attente de validation</span>
                        <button class="btn-action">Valider</button>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.js"></script>

    <!-- Lucide icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Nos scripts -->
    <script src="js/dashboard-charts.js"></script>
    <script src="js/app-combined.js"></script>

    <script>
        // Initialiser les ic√¥nes Lucide
        lucide.createIcons();
    </script>
</body>
</html>