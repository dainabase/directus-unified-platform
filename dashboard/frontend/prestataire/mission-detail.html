<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Détail Mission - Espace Prestataire</title>
    
    <!-- CSS Tabler -->
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/css/tabler.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/css/tabler-flags.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/css/tabler-payments.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/css/tabler-vendors.min.css" rel="stylesheet">
    
    <!-- Tabler Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons@latest/iconfont/tabler-icons.min.css">
    
    <!-- ApexCharts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.css">
    
    <!-- Custom CSS -->
    <link href="../assets/css/custom.css" rel="stylesheet">
    
    <style>
        [data-bs-theme="dark"] .hide-theme-dark { display: none !important; }
        [data-bs-theme="light"] .hide-theme-light { display: none !important; }
        
        /* JetBrains Mono pour les valeurs numériques */
        .health-score,
        .countdown-large,
        .budget-amount,
        .milestone-progress,
        .file-size,
        .message-time,
        .percentage-value {
            font-family: 'JetBrains Mono', monospace !important;
            font-weight: 600;
        }
        
        .milestone-timeline {
            position: relative;
            padding-left: 40px;
        }
        
        .milestone-timeline::before {
            content: '';
            position: absolute;
            left: 14px;
            top: 20px;
            bottom: 20px;
            width: 2px;
            background: var(--tblr-border-color);
        }
        
        .milestone {
            position: relative;
            margin-bottom: 2rem;
        }
        
        .milestone-marker {
            position: absolute;
            left: -34px;
            top: 6px;
            width: 16px;
            height: 16px;
            background: var(--tblr-bg-surface);
            border: 3px solid var(--tblr-secondary);
            border-radius: 50%;
        }
        
        .milestone.completed .milestone-marker {
            background: var(--tblr-green);
            border-color: var(--tblr-green);
        }
        
        .milestone.active .milestone-marker {
            background: var(--tblr-green);
            border-color: var(--tblr-green);
            box-shadow: 0 0 0 6px rgba(46, 179, 68, 0.2);
        }
        
        .milestone-content {
            background: var(--tblr-bg-surface-secondary);
            padding: 1rem;
            border-radius: 0.5rem;
        }
        
        .milestone-progress {
            position: absolute;
            top: 8px;
            right: 1rem;
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--tblr-secondary);
        }
        
        .milestone.completed .milestone-progress {
            color: var(--tblr-green);
        }
        
        .milestone.active .milestone-progress {
            color: var(--tblr-green);
        }
        
        .countdown-large {
            padding: 1.5rem;
            background: var(--tblr-bg-surface-secondary);
            border-radius: 0.5rem;
        }
        
        .countdown-large .h1 {
            font-size: 2.5rem;
            color: var(--tblr-green);
            margin: 0;
        }
        
        .skill-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--tblr-green-lt);
            color: var(--tblr-green);
            border-radius: 0.25rem;
            font-weight: 500;
            border: 1px solid var(--tblr-green);
        }
        
        .skill-tag-lg {
            padding: 0.5rem 1rem;
            font-size: 0.9375rem;
        }
        
        .message-own .message-content {
            display: inline-block;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border-bottom-right-radius: 0.25rem;
            max-width: 70%;
        }
        
        .message-content {
            background: var(--tblr-bg-surface-secondary);
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border-bottom-left-radius: 0.25rem;
            display: inline-block;
            max-width: 70%;
        }
        
        .health-score {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            background: var(--tblr-bg-surface-secondary);
            border-radius: 0.25rem;
        }
    </style>
</head>
<body data-bs-theme="light" class="layout-fluid role-prestataire">
    <div class="page">
        <!-- Navbar -->
        <header class="navbar navbar-expand-md navbar-light d-none d-lg-flex d-print-none">
            <div class="container-xl">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-nav flex-row order-md-last">
                    <!-- Dark Mode Toggle -->
                    <div class="nav-item d-none d-md-flex me-3">
                        <div class="btn-list-item">
                            <a href="#" class="nav-link px-0 hide-theme-dark" title="Enable dark mode" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="document.body.setAttribute('data-bs-theme', 'dark')">
                                <i class="ti ti-moon"></i>
                            </a>
                            <a href="#" class="nav-link px-0 hide-theme-light" title="Enable light mode" data-bs-toggle="tooltip" data-bs-placement="bottom" onclick="document.body.setAttribute('data-bs-theme', 'light')">
                                <i class="ti ti-sun"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Notifications -->
                    <div class="nav-item dropdown d-none d-md-flex me-3">
                        <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications">
                            <i class="ti ti-bell"></i>
                            <span class="badge bg-red"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Notifications</h3>
                                </div>
                                <div class="list-group list-group-flush list-group-hoverable">
                                    <div class="list-group-item">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <span class="status-dot status-dot-animated bg-red d-block"></span>
                                            </div>
                                            <div class="col text-truncate">
                                                <a href="#" class="text-body d-block">Tâche validée</a>
                                                <div class="d-block text-secondary text-truncate mt-n1">
                                                    Endpoints utilisateurs complétés
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- User Menu -->
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
                            <span class="avatar avatar-sm" id="user-avatar"></span>
                            <div class="d-none d-xl-block ps-2">
                                <div id="user-name">Utilisateur</div>
                                <div class="mt-1 small text-secondary">Prestataire</div>
                            </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <a href="profile.html" class="dropdown-item">Mon profil</a>
                            <a href="#" class="dropdown-item">Paramètres</a>
                            <div class="dropdown-divider"></div>
                            <a href="/logout.html" class="dropdown-item">Déconnexion</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="navbar navbar-vertical navbar-expand-lg navbar-transparent">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar-menu">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <h1 class="navbar-brand navbar-brand-autodark">
                    <a href="/prestataire/dashboard.html">
                        <img src="../assets/img/logo.svg" width="110" height="32" alt="Portal" class="navbar-brand-image">
                    </a>
                </h1>
                <div class="navbar-nav flex-row d-lg-none">
                    <div class="nav-item d-none d-md-flex me-3">
                        <div class="btn-list-item">
                            <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications">
                                <i class="ti ti-bell"></i>
                                <span class="badge bg-red"></span>
                            </a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
                            <span class="avatar avatar-sm" id="user-avatar-mobile"></span>
                        </a>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="sidebar-menu">
                    <ul class="navbar-nav pt-lg-3">
                        <li class="nav-item">
                            <a class="nav-link" href="dashboard.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-home"></i>
                                </span>
                                <span class="nav-link-title">Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="missions.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-briefcase"></i>
                                </span>
                                <span class="nav-link-title">Missions</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="calendar.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-calendar"></i>
                                </span>
                                <span class="nav-link-title">Calendrier</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="performance.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-chart-line"></i>
                                </span>
                                <span class="nav-link-title">Performance</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="messages.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-message-circle"></i>
                                </span>
                                <span class="nav-link-title">Messages</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="rewards.html">
                                <span class="nav-link-icon d-md-none d-lg-inline-block">
                                    <i class="ti ti-trophy"></i>
                                </span>
                                <span class="nav-link-title">Récompenses</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </aside>

        <!-- Page Wrapper -->
        <div class="page-wrapper">
            <div class="page-header d-print-none">
                <div class="container-xl">
                    <div class="row g-2 align-items-center">
                        <div class="col">
                            <div class="page-pretitle">Mission #API-2024-001</div>
                            <h2 class="page-title">
                                <i class="ti ti-code me-2"></i>
                                Développement API REST
                            </h2>
                            <div class="page-subtitle">
                                <div class="row">
                                    <div class="col-auto">
                                        <span class="avatar avatar-sm" style="background-color: #206bc4;">TC</span>
                                        <strong>TechCorp SA</strong>
                                    </div>
                                    <div class="col-auto">
                                        <span class="badge bg-red">Priorité Haute</span>
                                    </div>
                                    <div class="col-auto">
                                        <div class="health-score">
                                            Score santé: <strong class="text-warning percentage-value">85</strong>/100
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto ms-auto d-print-none">
                            <div class="btn-list">
                                <a href="#" class="btn btn-ghost-secondary">
                                    <i class="ti ti-download"></i>
                                    Exporter
                                </a>
                                <a href="#" class="btn btn-primary" onclick="openChat()">
                                    <i class="ti ti-message"></i>
                                    Contacter client
                                </a>
                                <div class="dropdown">
                                    <button class="btn btn-ghost-secondary dropdown-toggle" data-bs-toggle="dropdown">
                                        <i class="ti ti-dots-vertical"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#">
                                            <i class="ti ti-clock-plus me-2"></i>Demander prolongation
                                        </a></li>
                                        <li><a class="dropdown-item" href="#">
                                            <i class="ti ti-tool me-2"></i>Demander ressources
                                        </a></li>
                                        <li><a class="dropdown-item" href="#">
                                            <i class="ti ti-alert-triangle me-2"></i>Escalader problème
                                        </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page-body">
                <div class="container-xl">
                    <!-- Navigation tabs -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <ul class="nav nav-tabs card-header-tabs" data-bs-toggle="tabs">
                                        <li class="nav-item">
                                            <a href="#tab-overview" class="nav-link active" data-bs-toggle="tab">
                                                <i class="ti ti-eye me-2"></i>
                                                Vue d'ensemble
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#tab-tasks" class="nav-link" data-bs-toggle="tab">
                                                <i class="ti ti-list-check me-2"></i>
                                                Tâches
                                                <span class="badge bg-blue ms-1">20</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#tab-deliverables" class="nav-link" data-bs-toggle="tab">
                                                <i class="ti ti-upload me-2"></i>
                                                Livrables
                                                <span class="badge bg-green ms-1">8</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#tab-communication" class="nav-link" data-bs-toggle="tab">
                                                <i class="ti ti-message me-2"></i>
                                                Communication
                                                <span class="badge bg-red ms-1">3</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#tab-budget" class="nav-link" data-bs-toggle="tab">
                                                <i class="ti ti-cash me-2"></i>
                                                Temps & Budget
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="card-body">
                                    <div class="tab-content">
                                        <!-- Tab Vue d'ensemble -->
                                        <div class="tab-pane active show" id="tab-overview">
                                            <div class="row">
                                                <div class="col-lg-8">
                                                    <div class="card">
                                                        <div class="card-stamp">
                                                            <div class="card-stamp-icon bg-green">
                                                                <i class="ti ti-file-text"></i>
                                                            </div>
                                                        </div>
                                                        <div class="card-header">
                                                            <h3 class="card-title">Description & Objectifs</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mb-4">
                                                                <h4>Description détaillée</h4>
                                                                <p>Développement d'une API REST moderne pour la nouvelle infrastructure de TechCorp. L'API doit gérer l'authentification, les utilisateurs, les produits et les commandes avec une architecture scalable.</p>
                                                                <p>Le projet inclut la documentation complète, les tests unitaires et d'intégration, ainsi que le déploiement sur AWS avec CI/CD.</p>
                                                            </div>
                                                            
                                                            <div class="mb-4">
                                                                <h4>Objectifs</h4>
                                                                <div class="list-group list-group-flush">
                                                                    <div class="list-group-item">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-circle-check text-success"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <strong>Architecture API</strong>
                                                                                <div class="text-secondary small">Définir la structure et les endpoints</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="list-group-item">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-circle-check text-success"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <strong>Authentification JWT</strong>
                                                                                <div class="text-secondary small">Sécurisation avec tokens</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="list-group-item">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-circle text-secondary"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <strong>Base de données</strong>
                                                                                <div class="text-secondary small">PostgreSQL avec migrations</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="list-group-item">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-circle text-secondary"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <strong>Tests & Documentation</strong>
                                                                                <div class="text-secondary small">100% couverture + Swagger</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="list-group-item">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-circle text-secondary"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <strong>Déploiement</strong>
                                                                                <div class="text-secondary small">AWS avec Docker + CI/CD</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="mb-4">
                                                                <h4>Technologies</h4>
                                                                <div class="d-flex flex-wrap gap-2">
                                                                    <span class="skill-tag skill-tag-lg">Node.js</span>
                                                                    <span class="skill-tag skill-tag-lg">Express</span>
                                                                    <span class="skill-tag skill-tag-lg">PostgreSQL</span>
                                                                    <span class="skill-tag skill-tag-lg">JWT</span>
                                                                    <span class="skill-tag skill-tag-lg">Docker</span>
                                                                    <span class="skill-tag skill-tag-lg">AWS</span>
                                                                    <span class="skill-tag skill-tag-lg">Jest</span>
                                                                    <span class="skill-tag skill-tag-lg">Swagger</span>
                                                                </div>
                                                            </div>
                                                            
                                                            <div>
                                                                <h4>Ressources fournies</h4>
                                                                <div class="list-group list-group-flush">
                                                                    <a href="#" class="list-group-item list-group-item-action">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-file-text"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <div>Cahier des charges détaillé</div>
                                                                                <div class="text-secondary small file-size">specifications.pdf • 2.4 MB</div>
                                                                            </div>
                                                                        </div>
                                                                    </a>
                                                                    <a href="#" class="list-group-item list-group-item-action">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-database"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <div>Schéma base de données</div>
                                                                                <div class="text-secondary small file-size">database-schema.sql • 150 KB</div>
                                                                            </div>
                                                                        </div>
                                                                    </a>
                                                                    <a href="#" class="list-group-item list-group-item-action">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-auto">
                                                                                <i class="ti ti-key"></i>
                                                                            </div>
                                                                            <div class="col">
                                                                                <div>Accès environnement de test</div>
                                                                                <div class="text-secondary small">Serveur AWS staging</div>
                                                                            </div>
                                                                        </div>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-4">
                                                    <div class="space-y-3">
                                                        <!-- Chef de projet -->
                                                        <div class="card">
                                                            <div class="card-stamp">
                                                                <div class="card-stamp-icon bg-blue">
                                                                    <i class="ti ti-user"></i>
                                                                </div>
                                                            </div>
                                                            <div class="card-header">
                                                                <h3 class="card-title">Chef de projet</h3>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center mb-3">
                                                                    <span class="avatar avatar-lg me-3" style="background-image: url(https://ui-avatars.com/api/?name=Marie+Dubois)"></span>
                                                                    <div>
                                                                        <div class="fw-medium">Marie Dubois</div>
                                                                        <div class="text-secondary">Tech Lead @ TechCorp</div>
                                                                        <div class="rating rating-sm">
                                                                            <i class="ti ti-star-filled text-yellow"></i>
                                                                            <i class="ti ti-star-filled text-yellow"></i>
                                                                            <i class="ti ti-star-filled text-yellow"></i>
                                                                            <i class="ti ti-star-filled text-yellow"></i>
                                                                            <i class="ti ti-star-filled text-yellow"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="btn-list">
                                                                    <a href="#" class="btn btn-primary btn-sm w-100" onclick="openChat()">
                                                                        <i class="ti ti-message"></i>
                                                                        Chat direct
                                                                    </a>
                                                                    <a href="mailto:marie.dubois@techcorp.ch" class="btn btn-ghost-secondary btn-sm w-100">
                                                                        <i class="ti ti-mail"></i>
                                                                        Email
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Deadline -->
                                                        <div class="card">
                                                            <div class="card-stamp">
                                                                <div class="card-stamp-icon bg-yellow">
                                                                    <i class="ti ti-clock"></i>
                                                                </div>
                                                            </div>
                                                            <div class="card-header">
                                                                <h3 class="card-title">Deadline</h3>
                                                            </div>
                                                            <div class="card-body text-center">
                                                                <div class="countdown-large">
                                                                    <div class="h1 mb-1" id="countdown">2j 14h</div>
                                                                    <div class="text-secondary">Temps restant</div>
                                                                </div>
                                                                <div class="mt-3">
                                                                    <div class="text-secondary small">
                                                                        <i class="ti ti-calendar"></i>
                                                                        Date limite: 25 Janvier 2024
                                                                    </div>
                                                                    <div class="text-secondary small">
                                                                        <i class="ti ti-clock"></i>
                                                                        Heure: 18h00 CET
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Budget -->
                                                        <div class="card">
                                                            <div class="card-stamp">
                                                                <div class="card-stamp-icon bg-green">
                                                                    <i class="ti ti-currency-franc"></i>
                                                                </div>
                                                            </div>
                                                            <div class="card-header">
                                                                <h3 class="card-title">Budget & Bonus</h3>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="mb-3">
                                                                    <div class="row">
                                                                        <div class="col">
                                                                            <div class="text-secondary">Utilisé</div>
                                                                            <div class="fw-medium budget-amount">CHF 8'500</div>
                                                                        </div>
                                                                        <div class="col-auto">
                                                                            <div class="text-secondary">Budget total</div>
                                                                            <div class="fw-medium budget-amount">CHF 10'000</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="progress mt-2">
                                                                        <div class="progress-bar bg-primary" style="width: 85%" role="progressbar">
                                                                            <span class="visually-hidden">85% utilisé</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="alert alert-success">
                                                                    <div class="d-flex">
                                                                        <div>
                                                                            <i class="ti ti-gift alert-icon"></i>
                                                                        </div>
                                                                        <div>
                                                                            <h4 class="alert-title">Bonus ponctualité!</h4>
                                                                            <div class="text-secondary">+CHF 500 si livré avant deadline</div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Timeline & Milestones -->
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title">Timeline & Milestones</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="milestone-timeline">
                                                                <div class="milestone completed">
                                                                    <div class="milestone-marker"></div>
                                                                    <div class="milestone-content">
                                                                        <h4>Phase 1: Architecture</h4>
                                                                        <div class="text-secondary">Design API, choix technologies</div>
                                                                        <div class="milestone-meta">
                                                                            <span class="badge bg-success">Terminé</span>
                                                                            <span class="text-secondary small">15-17 Jan</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="milestone-progress">100%</div>
                                                                </div>
                                                                
                                                                <div class="milestone active">
                                                                    <div class="milestone-marker"></div>
                                                                    <div class="milestone-content">
                                                                        <h4>Phase 2: Développement Core</h4>
                                                                        <div class="text-secondary">Auth, utilisateurs, endpoints de base</div>
                                                                        <div class="milestone-meta">
                                                                            <span class="badge bg-blue">En cours</span>
                                                                            <span class="text-secondary small">18-22 Jan</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="milestone-progress">65%</div>
                                                                </div>
                                                                
                                                                <div class="milestone">
                                                                    <div class="milestone-marker"></div>
                                                                    <div class="milestone-content">
                                                                        <h4>Phase 3: Business Logic</h4>
                                                                        <div class="text-secondary">Produits, commandes, intégrations</div>
                                                                        <div class="milestone-meta">
                                                                            <span class="badge bg-secondary">À venir</span>
                                                                            <span class="text-secondary small">23-24 Jan</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="milestone-progress">0%</div>
                                                                </div>
                                                                
                                                                <div class="milestone">
                                                                    <div class="milestone-marker"></div>
                                                                    <div class="milestone-content">
                                                                        <h4>Phase 4: Tests & Déploiement</h4>
                                                                        <div class="text-secondary">Tests complets, CI/CD, documentation</div>
                                                                        <div class="milestone-meta">
                                                                            <span class="badge bg-secondary">À venir</span>
                                                                            <span class="text-secondary small">25 Jan</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="milestone-progress">0%</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Activité récente -->
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title">Activité récente</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="list-group list-group-flush">
                                                                <div class="list-group-item">
                                                                    <div class="row align-items-center">
                                                                        <div class="col-auto">
                                                                            <span class="avatar avatar-sm" style="background-color: #2fb344;">✓</span>
                                                                        </div>
                                                                        <div class="col">
                                                                            <div>
                                                                                <strong>Tâche validée:</strong> Endpoints utilisateurs complétés
                                                                            </div>
                                                                            <div class="text-secondary small">
                                                                                <i class="ti ti-clock"></i>
                                                                                <span class="message-time">Il y a 2h</span> • Marie Dubois
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="list-group-item">
                                                                    <div class="row align-items-center">
                                                                        <div class="col-auto">
                                                                            <span class="avatar avatar-sm" style="background-color: #206bc4;">💬</span>
                                                                        </div>
                                                                        <div class="col">
                                                                            <div>
                                                                                <strong>Nouveau commentaire:</strong> "Excellent travail sur l'auth JWT!"
                                                                            </div>
                                                                            <div class="text-secondary small">
                                                                                <i class="ti ti-clock"></i>
                                                                                <span class="message-time">Il y a 4h</span> • Marie Dubois
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="list-group-item">
                                                                    <div class="row align-items-center">
                                                                        <div class="col-auto">
                                                                            <span class="avatar avatar-sm" style="background-color: #f76707;">📤</span>
                                                                        </div>
                                                                        <div class="col">
                                                                            <div>
                                                                                <strong>Livrable envoyé:</strong> Documentation API v1.0
                                                                            </div>
                                                                            <div class="text-secondary small">
                                                                                <i class="ti ti-clock"></i>
                                                                                <span class="message-time">Hier à 16:30</span> • Vous
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Tab Tâches -->
                                        <div class="tab-pane" id="tab-tasks">
                                            <div class="text-center py-5">
                                                <i class="ti ti-list-check icon-lg text-secondary mb-3"></i>
                                                <h3>Vue Kanban des tâches</h3>
                                                <p class="text-secondary">Accédez à la vue détaillée des tâches pour une gestion avancée.</p>
                                                <a href="tasks.html" class="btn btn-primary">
                                                    <i class="ti ti-external-link"></i>
                                                    Ouvrir vue Kanban
                                                </a>
                                            </div>
                                        </div>
                                        
                                        <!-- Tab Livrables -->
                                        <div class="tab-pane" id="tab-deliverables">
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-vcenter">
                                                            <thead>
                                                                <tr>
                                                                    <th>Livrable</th>
                                                                    <th>Type</th>
                                                                    <th>Statut</th>
                                                                    <th>Date</th>
                                                                    <th>Actions</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>Documentation API v1.0</td>
                                                                    <td><span class="badge bg-blue-lt">Documentation</span></td>
                                                                    <td><span class="badge bg-success">Validé</span></td>
                                                                    <td>22 Jan 2024</td>
                                                                    <td>
                                                                        <a href="#" class="btn btn-sm btn-ghost-secondary">Télécharger</a>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>Code source authentification</td>
                                                                    <td><span class="badge bg-green-lt">Code</span></td>
                                                                    <td><span class="badge bg-success">Validé</span></td>
                                                                    <td>20 Jan 2024</td>
                                                                    <td>
                                                                        <a href="#" class="btn btn-sm btn-ghost-secondary">Voir sur GitHub</a>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>Tests unitaires auth</td>
                                                                    <td><span class="badge bg-yellow-lt">Tests</span></td>
                                                                    <td><span class="badge bg-orange">En review</span></td>
                                                                    <td>21 Jan 2024</td>
                                                                    <td>
                                                                        <a href="#" class="btn btn-sm btn-ghost-secondary">Voir détails</a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Tab Communication -->
                                        <div class="tab-pane" id="tab-communication">
                                            <div class="row">
                                                <div class="col-lg-8">
                                                    <div class="card">
                                                        <div class="card-stamp">
                                                            <div class="card-stamp-icon bg-purple">
                                                                <i class="ti ti-message-circle"></i>
                                                            </div>
                                                        </div>
                                                        <div class="card-header">
                                                            <h3 class="card-title">Messages récents</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="chat-messages" style="height: 400px; overflow-y: auto;">
                                                                <!-- Messages simulés -->
                                                                <div class="message-item mb-3">
                                                                    <div class="d-flex">
                                                                        <span class="avatar me-2" style="background-image: url(https://ui-avatars.com/api/?name=Marie+Dubois)"></span>
                                                                        <div class="flex-fill">
                                                                            <div class="message-header">
                                                                                <strong>Marie Dubois</strong>
                                                                                <span class="text-secondary small ms-2 message-time">Il y a 2h</span>
                                                                            </div>
                                                                            <div class="message-content">
                                                                                Excellent travail sur l'authentification JWT! Le code est très propre. Pouvez-vous ajouter les tests pour la validation des tokens expirés?
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="message-item mb-3 message-own">
                                                                    <div class="d-flex justify-content-end">
                                                                        <div class="flex-fill text-end">
                                                                            <div class="message-header">
                                                                                <span class="text-secondary small me-2 message-time">Il y a 1h</span>
                                                                                <strong>Vous</strong>
                                                                            </div>
                                                                            <div class="message-content bg-green text-white">
                                                                                Merci! J'ajoute les tests pour les tokens expirés cet après-midi. J'ai aussi une question sur la gestion des refresh tokens.
                                                                            </div>
                                                                        </div>
                                                                        <span class="avatar ms-2" id="user-avatar-chat"></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="mt-3">
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control" placeholder="Tapez votre message..." id="messageInput">
                                                                    <button class="btn btn-primary" onclick="sendMessage()">
                                                                        <i class="ti ti-send"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-4">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title">Actions rapides</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="list-group list-group-transparent">
                                                                <a href="#" class="list-group-item list-group-item-action">
                                                                    <i class="ti ti-calendar me-2"></i>
                                                                    Programmer réunion
                                                                </a>
                                                                <a href="#" class="list-group-item list-group-item-action">
                                                                    <i class="ti ti-file-plus me-2"></i>
                                                                    Partager document
                                                                </a>
                                                                <a href="#" class="list-group-item list-group-item-action">
                                                                    <i class="ti ti-help me-2"></i>
                                                                    Demander clarification
                                                                </a>
                                                                <a href="#" class="list-group-item list-group-item-action">
                                                                    <i class="ti ti-alert-triangle me-2"></i>
                                                                    Signaler problème
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Tab Temps & Budget -->
                                        <div class="tab-pane" id="tab-budget">
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title">Suivi du temps</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div id="timeTrackingChart"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-6">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h3 class="card-title">Répartition budget</h3>
                                                        </div>
                                                        <div class="card-body">
                                                            <div id="budgetChart"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="footer footer-transparent d-print-none">
                <div class="container-xl">
                    <div class="row text-center align-items-center flex-row-reverse">
                        <div class="col-lg-auto ms-lg-auto">
                            <ul class="list-inline list-inline-dots mb-0">
                                <li class="list-inline-item"><a href="#" class="link-secondary">Documentation</a></li>
                                <li class="list-inline-item"><a href="#" class="link-secondary">Support</a></li>
                            </ul>
                        </div>
                        <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                            <ul class="list-inline list-inline-dots mb-0">
                                <li class="list-inline-item">
                                    Copyright &copy; 2025
                                    <a href="." class="link-secondary">Portal Pro</a>.
                                    Tous droits réservés.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- JS Tabler -->
    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/js/tabler.min.js"></script>
    
    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    
    <!-- Custom JS -->
    <script src="../assets/js/app.js"></script>
    <script src="../assets/js/auth.js"></script>
    
    <script>
        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize user data
            const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
            if (userData.name) {
                document.getElementById('user-name').textContent = userData.name;
                document.getElementById('user-avatar').style.backgroundImage = `url(${userData.avatar})`;
                document.getElementById('user-avatar-mobile').style.backgroundImage = `url(${userData.avatar})`;
                document.getElementById('user-avatar-chat').style.backgroundImage = `url(${userData.avatar})`;
            }
            
            // Time tracking chart
            const timeTrackingOptions = {
                series: [{
                    name: 'Heures',
                    data: [8, 10, 12, 9, 11, 8, 6]
                }],
                chart: {
                    type: 'area',
                    height: 350,
                    sparkline: {
                        enabled: false
                    }
                },
                colors: ['#2fb344'],
                xaxis: {
                    categories: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim']
                },
                yaxis: {
                    title: {
                        text: 'Heures'
                    }
                }
            };
            
            // Budget chart
            const budgetOptions = {
                series: [35, 25, 20, 15, 5],
                chart: {
                    type: 'donut',
                    height: 350
                },
                labels: ['Développement', 'Tests', 'Documentation', 'Meetings', 'Autres'],
                colors: ['#206bc4', '#2fb344', '#f76707', '#d63939', '#74788d']
            };
            
            // Render charts if on budget tab
            const budgetTab = document.querySelector('a[href="#tab-budget"]');
            if (budgetTab) {
                budgetTab.addEventListener('shown.bs.tab', function() {
                    new ApexCharts(document.querySelector("#timeTrackingChart"), timeTrackingOptions).render();
                    new ApexCharts(document.querySelector("#budgetChart"), budgetOptions).render();
                });
            }
        });
        
        function openChat() {
            console.log('Opening chat...');
        }
        
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (message) {
                console.log('Sending message:', message);
                input.value = '';
            }
        }
    </script>
</body>
</html>